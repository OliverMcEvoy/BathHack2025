(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function to(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const pe={},Cn=[],vt=()=>{},If=()=>!1,Sr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),no=e=>e.startsWith("onUpdate:"),Fe=Object.assign,so=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Ff=Object.prototype.hasOwnProperty,re=(e,t)=>Ff.call(e,t),q=Array.isArray,Pn=e=>xr(e)==="[object Map]",Al=e=>xr(e)==="[object Set]",z=e=>typeof e=="function",_e=e=>typeof e=="string",$t=e=>typeof e=="symbol",me=e=>e!==null&&typeof e=="object",Cl=e=>(me(e)||z(e))&&z(e.then)&&z(e.catch),Pl=Object.prototype.toString,xr=e=>Pl.call(e),Mf=e=>xr(e).slice(8,-1),Tl=e=>xr(e)==="[object Object]",ro=e=>_e(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,rs=to(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Er=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Nf=/-(\w)/g,rt=Er(e=>e.replace(Nf,(t,n)=>n?n.toUpperCase():"")),$f=/\B([A-Z])/g,hn=Er(e=>e.replace($f,"-$1").toLowerCase()),vr=Er(e=>e.charAt(0).toUpperCase()+e.slice(1)),Xr=Er(e=>e?`on${vr(e)}`:""),Kt=(e,t)=>!Object.is(e,t),Gr=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Ol=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},Lf=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Zo;const Rr=()=>Zo||(Zo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Xt(e){if(q(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],r=_e(s)?jf(s):Xt(s);if(r)for(const i in r)t[i]=r[i]}return t}else if(_e(e)||me(e))return e}const Df=/;(?![^(]*\))/g,Bf=/:([^]+)/,Uf=/\/\*[^]*?\*\//g;function jf(e){const t={};return e.replace(Uf,"").split(Df).forEach(n=>{if(n){const s=n.split(Bf);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Ve(e){let t="";if(_e(e))t=e;else if(q(e))for(let n=0;n<e.length;n++){const s=Ve(e[n]);s&&(t+=s+" ")}else if(me(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Hf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Vf=to(Hf);function kl(e){return!!e||e===""}const Il=e=>!!(e&&e.__v_isRef===!0),Ft=e=>_e(e)?e:e==null?"":q(e)||me(e)&&(e.toString===Pl||!z(e.toString))?Il(e)?Ft(e.value):JSON.stringify(e,Fl,2):String(e),Fl=(e,t)=>Il(t)?Fl(e,t.value):Pn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,r],i)=>(n[Qr(s,i)+" =>"]=r,n),{})}:Al(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Qr(n))}:$t(t)?Qr(t):me(t)&&!q(t)&&!Tl(t)?String(t):t,Qr=(e,t="")=>{var n;return $t(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ye;class Wf{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ye,!t&&Ye&&(this.index=(Ye.scopes||(Ye.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Ye;try{return Ye=this,t()}finally{Ye=n}}}on(){Ye=this}off(){Ye=this.parent}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function qf(){return Ye}let he;const Yr=new WeakSet;class Ml{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ye&&Ye.active&&Ye.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Yr.has(this)&&(Yr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||$l(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ea(this),Ll(this);const t=he,n=ct;he=this,ct=!0;try{return this.fn()}finally{Dl(this),he=t,ct=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)ao(t);this.deps=this.depsTail=void 0,ea(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Yr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){xi(this)&&this.run()}get dirty(){return xi(this)}}let Nl=0,is,os;function $l(e,t=!1){if(e.flags|=8,t){e.next=os,os=e;return}e.next=is,is=e}function io(){Nl++}function oo(){if(--Nl>0)return;if(os){let t=os;for(os=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;is;){let t=is;for(is=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function Ll(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Dl(e){let t,n=e.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),ao(s),Jf(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}e.deps=t,e.depsTail=n}function xi(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Bl(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Bl(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ps))return;e.globalVersion=ps;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!xi(e)){e.flags&=-3;return}const n=he,s=ct;he=e,ct=!0;try{Ll(e);const r=e.fn(e._value);(t.version===0||Kt(r,e._value))&&(e._value=r,t.version++)}catch(r){throw t.version++,r}finally{he=n,ct=s,Dl(e),e.flags&=-3}}function ao(e,t=!1){const{dep:n,prevSub:s,nextSub:r}=e;if(s&&(s.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)ao(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Jf(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let ct=!0;const Ul=[];function Qt(){Ul.push(ct),ct=!1}function Yt(){const e=Ul.pop();ct=e===void 0?!0:e}function ea(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=he;he=void 0;try{t()}finally{he=n}}}let ps=0;class Kf{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class lo{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!he||!ct||he===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==he)n=this.activeLink=new Kf(he,this),he.deps?(n.prevDep=he.depsTail,he.depsTail.nextDep=n,he.depsTail=n):he.deps=he.depsTail=n,jl(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=he.depsTail,n.nextDep=void 0,he.depsTail.nextDep=n,he.depsTail=n,he.deps===n&&(he.deps=s)}return n}trigger(t){this.version++,ps++,this.notify(t)}notify(t){io();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{oo()}}}function jl(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)jl(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Ei=new WeakMap,cn=Symbol(""),vi=Symbol(""),ms=Symbol("");function Pe(e,t,n){if(ct&&he){let s=Ei.get(e);s||Ei.set(e,s=new Map);let r=s.get(n);r||(s.set(n,r=new lo),r.map=s,r.key=n),r.track()}}function Mt(e,t,n,s,r,i){const o=Ei.get(e);if(!o){ps++;return}const a=l=>{l&&l.trigger()};if(io(),t==="clear")o.forEach(a);else{const l=q(e),c=l&&ro(n);if(l&&n==="length"){const u=Number(s);o.forEach((f,h)=>{(h==="length"||h===ms||!$t(h)&&h>=u)&&a(f)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(ms)),t){case"add":l?c&&a(o.get("length")):(a(o.get(cn)),Pn(e)&&a(o.get(vi)));break;case"delete":l||(a(o.get(cn)),Pn(e)&&a(o.get(vi)));break;case"set":Pn(e)&&a(o.get(cn));break}}oo()}function yn(e){const t=se(e);return t===e?t:(Pe(t,"iterate",ms),st(e)?t:t.map(Te))}function Ar(e){return Pe(e=se(e),"iterate",ms),e}const zf={__proto__:null,[Symbol.iterator](){return Zr(this,Symbol.iterator,Te)},concat(...e){return yn(this).concat(...e.map(t=>q(t)?yn(t):t))},entries(){return Zr(this,"entries",e=>(e[1]=Te(e[1]),e))},every(e,t){return Pt(this,"every",e,t,void 0,arguments)},filter(e,t){return Pt(this,"filter",e,t,n=>n.map(Te),arguments)},find(e,t){return Pt(this,"find",e,t,Te,arguments)},findIndex(e,t){return Pt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Pt(this,"findLast",e,t,Te,arguments)},findLastIndex(e,t){return Pt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Pt(this,"forEach",e,t,void 0,arguments)},includes(...e){return ei(this,"includes",e)},indexOf(...e){return ei(this,"indexOf",e)},join(e){return yn(this).join(e)},lastIndexOf(...e){return ei(this,"lastIndexOf",e)},map(e,t){return Pt(this,"map",e,t,void 0,arguments)},pop(){return Kn(this,"pop")},push(...e){return Kn(this,"push",e)},reduce(e,...t){return ta(this,"reduce",e,t)},reduceRight(e,...t){return ta(this,"reduceRight",e,t)},shift(){return Kn(this,"shift")},some(e,t){return Pt(this,"some",e,t,void 0,arguments)},splice(...e){return Kn(this,"splice",e)},toReversed(){return yn(this).toReversed()},toSorted(e){return yn(this).toSorted(e)},toSpliced(...e){return yn(this).toSpliced(...e)},unshift(...e){return Kn(this,"unshift",e)},values(){return Zr(this,"values",Te)}};function Zr(e,t,n){const s=Ar(e),r=s[t]();return s!==e&&!st(e)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=n(i.value)),i}),r}const Xf=Array.prototype;function Pt(e,t,n,s,r,i){const o=Ar(e),a=o!==e&&!st(e),l=o[t];if(l!==Xf[t]){const f=l.apply(e,i);return a?Te(f):f}let c=n;o!==e&&(a?c=function(f,h){return n.call(this,Te(f),h,e)}:n.length>2&&(c=function(f,h){return n.call(this,f,h,e)}));const u=l.call(o,c,s);return a&&r?r(u):u}function ta(e,t,n,s){const r=Ar(e);let i=n;return r!==e&&(st(e)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,e)}):i=function(o,a,l){return n.call(this,o,Te(a),l,e)}),r[t](i,...s)}function ei(e,t,n){const s=se(e);Pe(s,"iterate",ms);const r=s[t](...n);return(r===-1||r===!1)&&fo(n[0])?(n[0]=se(n[0]),s[t](...n)):r}function Kn(e,t,n=[]){Qt(),io();const s=se(e)[t].apply(e,n);return oo(),Yt(),s}const Gf=to("__proto__,__v_isRef,__isVue"),Hl=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter($t));function Qf(e){$t(e)||(e=String(e));const t=se(this);return Pe(t,"has",e),t.hasOwnProperty(e)}class Vl{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?ad:Kl:i?Jl:ql).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const o=q(t);if(!r){let l;if(o&&(l=zf[n]))return l;if(n==="hasOwnProperty")return Qf}const a=Reflect.get(t,n,Ie(t)?t:s);return($t(n)?Hl.has(n):Gf(n))||(r||Pe(t,"get",n),i)?a:Ie(a)?o&&ro(n)?a:a.value:me(a)?r?Xl(a):Cr(a):a}}class Wl extends Vl{constructor(t=!1){super(!1,t)}set(t,n,s,r){let i=t[n];if(!this._isShallow){const l=fn(i);if(!st(s)&&!fn(s)&&(i=se(i),s=se(s)),!q(t)&&Ie(i)&&!Ie(s))return l?!1:(i.value=s,!0)}const o=q(t)&&ro(n)?Number(n)<t.length:re(t,n),a=Reflect.set(t,n,s,Ie(t)?t:r);return t===se(r)&&(o?Kt(s,i)&&Mt(t,"set",n,s):Mt(t,"add",n,s)),a}deleteProperty(t,n){const s=re(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&s&&Mt(t,"delete",n,void 0),r}has(t,n){const s=Reflect.has(t,n);return(!$t(n)||!Hl.has(n))&&Pe(t,"has",n),s}ownKeys(t){return Pe(t,"iterate",q(t)?"length":cn),Reflect.ownKeys(t)}}class Yf extends Vl{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Zf=new Wl,ed=new Yf,td=new Wl(!0);const Ri=e=>e,$s=e=>Reflect.getPrototypeOf(e);function nd(e,t,n){return function(...s){const r=this.__v_raw,i=se(r),o=Pn(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=r[e](...s),u=n?Ri:t?Ai:Te;return!t&&Pe(i,"iterate",l?vi:cn),{next(){const{value:f,done:h}=c.next();return h?{value:f,done:h}:{value:a?[u(f[0]),u(f[1])]:u(f),done:h}},[Symbol.iterator](){return this}}}}function Ls(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function sd(e,t){const n={get(r){const i=this.__v_raw,o=se(i),a=se(r);e||(Kt(r,a)&&Pe(o,"get",r),Pe(o,"get",a));const{has:l}=$s(o),c=t?Ri:e?Ai:Te;if(l.call(o,r))return c(i.get(r));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!e&&Pe(se(r),"iterate",cn),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,o=se(i),a=se(r);return e||(Kt(r,a)&&Pe(o,"has",r),Pe(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,l=se(a),c=t?Ri:e?Ai:Te;return!e&&Pe(l,"iterate",cn),a.forEach((u,f)=>r.call(i,c(u),c(f),o))}};return Fe(n,e?{add:Ls("add"),set:Ls("set"),delete:Ls("delete"),clear:Ls("clear")}:{add(r){!t&&!st(r)&&!fn(r)&&(r=se(r));const i=se(this);return $s(i).has.call(i,r)||(i.add(r),Mt(i,"add",r,r)),this},set(r,i){!t&&!st(i)&&!fn(i)&&(i=se(i));const o=se(this),{has:a,get:l}=$s(o);let c=a.call(o,r);c||(r=se(r),c=a.call(o,r));const u=l.call(o,r);return o.set(r,i),c?Kt(i,u)&&Mt(o,"set",r,i):Mt(o,"add",r,i),this},delete(r){const i=se(this),{has:o,get:a}=$s(i);let l=o.call(i,r);l||(r=se(r),l=o.call(i,r)),a&&a.call(i,r);const c=i.delete(r);return l&&Mt(i,"delete",r,void 0),c},clear(){const r=se(this),i=r.size!==0,o=r.clear();return i&&Mt(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=nd(r,e,t)}),n}function co(e,t){const n=sd(e,t);return(s,r,i)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(re(n,r)&&r in s?n:s,r,i)}const rd={get:co(!1,!1)},id={get:co(!1,!0)},od={get:co(!0,!1)};const ql=new WeakMap,Jl=new WeakMap,Kl=new WeakMap,ad=new WeakMap;function ld(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function cd(e){return e.__v_skip||!Object.isExtensible(e)?0:ld(Mf(e))}function Cr(e){return fn(e)?e:uo(e,!1,Zf,rd,ql)}function zl(e){return uo(e,!1,td,id,Jl)}function Xl(e){return uo(e,!0,ed,od,Kl)}function uo(e,t,n,s,r){if(!me(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=r.get(e);if(i)return i;const o=cd(e);if(o===0)return e;const a=new Proxy(e,o===2?s:n);return r.set(e,a),a}function Tn(e){return fn(e)?Tn(e.__v_raw):!!(e&&e.__v_isReactive)}function fn(e){return!!(e&&e.__v_isReadonly)}function st(e){return!!(e&&e.__v_isShallow)}function fo(e){return e?!!e.__v_raw:!1}function se(e){const t=e&&e.__v_raw;return t?se(t):e}function ud(e){return!re(e,"__v_skip")&&Object.isExtensible(e)&&Ol(e,"__v_skip",!0),e}const Te=e=>me(e)?Cr(e):e,Ai=e=>me(e)?Xl(e):e;function Ie(e){return e?e.__v_isRef===!0:!1}function fd(e){return Gl(e,!1)}function dd(e){return Gl(e,!0)}function Gl(e,t){return Ie(e)?e:new hd(e,t)}class hd{constructor(t,n){this.dep=new lo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:se(t),this._value=n?t:Te(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||st(t)||fn(t);t=s?t:se(t),Kt(t,n)&&(this._rawValue=t,this._value=s?t:Te(t),this.dep.trigger())}}function On(e){return Ie(e)?e.value:e}const pd={get:(e,t,n)=>t==="__v_raw"?e:On(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const r=e[t];return Ie(r)&&!Ie(n)?(r.value=n,!0):Reflect.set(e,t,n,s)}};function Ql(e){return Tn(e)?e:new Proxy(e,pd)}class md{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new lo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ps-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&he!==this)return $l(this,!0),!0}get value(){const t=this.dep.track();return Bl(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function gd(e,t,n=!1){let s,r;return z(e)?s=e:(s=e.get,r=e.set),new md(s,r,n)}const Ds={},ar=new WeakMap;let rn;function yd(e,t=!1,n=rn){if(n){let s=ar.get(n);s||ar.set(n,s=[]),s.push(e)}}function _d(e,t,n=pe){const{immediate:s,deep:r,once:i,scheduler:o,augmentJob:a,call:l}=n,c=v=>r?v:st(v)||r===!1||r===0?Jt(v,1):Jt(v);let u,f,h,m,y=!1,_=!1;if(Ie(e)?(f=()=>e.value,y=st(e)):Tn(e)?(f=()=>c(e),y=!0):q(e)?(_=!0,y=e.some(v=>Tn(v)||st(v)),f=()=>e.map(v=>{if(Ie(v))return v.value;if(Tn(v))return c(v);if(z(v))return l?l(v,2):v()})):z(e)?t?f=l?()=>l(e,2):e:f=()=>{if(h){Qt();try{h()}finally{Yt()}}const v=rn;rn=u;try{return l?l(e,3,[m]):e(m)}finally{rn=v}}:f=vt,t&&r){const v=f,L=r===!0?1/0:r;f=()=>Jt(v(),L)}const w=qf(),T=()=>{u.stop(),w&&w.active&&so(w.effects,u)};if(i&&t){const v=t;t=(...L)=>{v(...L),T()}}let S=_?new Array(e.length).fill(Ds):Ds;const C=v=>{if(!(!(u.flags&1)||!u.dirty&&!v))if(t){const L=u.run();if(r||y||(_?L.some((D,N)=>Kt(D,S[N])):Kt(L,S))){h&&h();const D=rn;rn=u;try{const N=[L,S===Ds?void 0:_&&S[0]===Ds?[]:S,m];l?l(t,3,N):t(...N),S=L}finally{rn=D}}}else u.run()};return a&&a(C),u=new Ml(f),u.scheduler=o?()=>o(C,!1):C,m=v=>yd(v,!1,u),h=u.onStop=()=>{const v=ar.get(u);if(v){if(l)l(v,4);else for(const L of v)L();ar.delete(u)}},t?s?C(!0):S=u.run():o?o(C.bind(null,!0),!0):u.run(),T.pause=u.pause.bind(u),T.resume=u.resume.bind(u),T.stop=T,T}function Jt(e,t=1/0,n){if(t<=0||!me(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Ie(e))Jt(e.value,t,n);else if(q(e))for(let s=0;s<e.length;s++)Jt(e[s],t,n);else if(Al(e)||Pn(e))e.forEach(s=>{Jt(s,t,n)});else if(Tl(e)){for(const s in e)Jt(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Jt(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function As(e,t,n,s){try{return s?e(...s):e()}catch(r){Pr(r,t,n)}}function Rt(e,t,n,s){if(z(e)){const r=As(e,t,n,s);return r&&Cl(r)&&r.catch(i=>{Pr(i,t,n)}),r}if(q(e)){const r=[];for(let i=0;i<e.length;i++)r.push(Rt(e[i],t,n,s));return r}}function Pr(e,t,n,s=!0){const r=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||pe;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,l,c)===!1)return}a=a.parent}if(i){Qt(),As(i,null,10,[e,l,c]),Yt();return}}wd(e,n,r,s,o)}function wd(e,t,n,s=!0,r=!1){if(r)throw e;console.error(e)}const Ne=[];let wt=-1;const kn=[];let Vt=null,xn=0;const Yl=Promise.resolve();let lr=null;function Zl(e){const t=lr||Yl;return e?t.then(this?e.bind(this):e):t}function bd(e){let t=wt+1,n=Ne.length;for(;t<n;){const s=t+n>>>1,r=Ne[s],i=gs(r);i<e||i===e&&r.flags&2?t=s+1:n=s}return t}function ho(e){if(!(e.flags&1)){const t=gs(e),n=Ne[Ne.length-1];!n||!(e.flags&2)&&t>=gs(n)?Ne.push(e):Ne.splice(bd(t),0,e),e.flags|=1,ec()}}function ec(){lr||(lr=Yl.then(nc))}function Sd(e){q(e)?kn.push(...e):Vt&&e.id===-1?Vt.splice(xn+1,0,e):e.flags&1||(kn.push(e),e.flags|=1),ec()}function na(e,t,n=wt+1){for(;n<Ne.length;n++){const s=Ne[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;Ne.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function tc(e){if(kn.length){const t=[...new Set(kn)].sort((n,s)=>gs(n)-gs(s));if(kn.length=0,Vt){Vt.push(...t);return}for(Vt=t,xn=0;xn<Vt.length;xn++){const n=Vt[xn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Vt=null,xn=0}}const gs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function nc(e){try{for(wt=0;wt<Ne.length;wt++){const t=Ne[wt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),As(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;wt<Ne.length;wt++){const t=Ne[wt];t&&(t.flags&=-2)}wt=-1,Ne.length=0,tc(),lr=null,(Ne.length||kn.length)&&nc()}}let $e=null,sc=null;function cr(e){const t=$e;return $e=e,sc=e&&e.type.__scopeId||null,t}function xd(e,t=$e,n){if(!t||e._n)return e;const s=(...r)=>{s._d&&da(-1);const i=cr(t);let o;try{o=e(...r)}finally{cr(i),s._d&&da(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function tn(e,t,n,s){const r=e.dirs,i=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(Qt(),Rt(l,n,8,[e.el,a,e,t]),Yt())}}const Ed=Symbol("_vte"),vd=e=>e.__isTeleport;function po(e,t){e.shapeFlag&6&&e.component?(e.transition=t,po(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function rc(e,t){return z(e)?Fe({name:e.name},t,{setup:e}):e}function ic(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function ur(e,t,n,s,r=!1){if(q(e)){e.forEach((y,_)=>ur(y,t&&(q(t)?t[_]:t),n,s,r));return}if(In(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&ur(e,t,n,s.component.subTree);return}const i=s.shapeFlag&4?yo(s.component):s.el,o=r?null:i,{i:a,r:l}=e,c=t&&t.r,u=a.refs===pe?a.refs={}:a.refs,f=a.setupState,h=se(f),m=f===pe?()=>!1:y=>re(h,y);if(c!=null&&c!==l&&(_e(c)?(u[c]=null,m(c)&&(f[c]=null)):Ie(c)&&(c.value=null)),z(l))As(l,a,12,[o,u]);else{const y=_e(l),_=Ie(l);if(y||_){const w=()=>{if(e.f){const T=y?m(l)?f[l]:u[l]:l.value;r?q(T)&&so(T,i):q(T)?T.includes(i)||T.push(i):y?(u[l]=[i],m(l)&&(f[l]=u[l])):(l.value=[i],e.k&&(u[e.k]=l.value))}else y?(u[l]=o,m(l)&&(f[l]=o)):_&&(l.value=o,e.k&&(u[e.k]=o))};o?(w.id=-1,Ge(w,n)):w()}}}Rr().requestIdleCallback;Rr().cancelIdleCallback;const In=e=>!!e.type.__asyncLoader,oc=e=>e.type.__isKeepAlive;function Rd(e,t){ac(e,"a",t)}function Ad(e,t){ac(e,"da",t)}function ac(e,t,n=Oe){const s=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Tr(t,s,n),n){let r=n.parent;for(;r&&r.parent;)oc(r.parent.vnode)&&Cd(s,t,n,r),r=r.parent}}function Cd(e,t,n,s){const r=Tr(t,e,s,!0);lc(()=>{so(s[t],r)},n)}function Tr(e,t,n=Oe,s=!1){if(n){const r=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{Qt();const a=Cs(n),l=Rt(t,n,e,o);return a(),Yt(),l});return s?r.unshift(i):r.push(i),i}}const Lt=e=>(t,n=Oe)=>{(!bs||e==="sp")&&Tr(e,(...s)=>t(...s),n)},Pd=Lt("bm"),Td=Lt("m"),Od=Lt("bu"),kd=Lt("u"),Id=Lt("bum"),lc=Lt("um"),Fd=Lt("sp"),Md=Lt("rtg"),Nd=Lt("rtc");function $d(e,t=Oe){Tr("ec",e,t)}const Ld="components";function as(e,t){return Bd(Ld,e,!0,t)||e}const Dd=Symbol.for("v-ndc");function Bd(e,t,n=!0,s=!1){const r=$e||Oe;if(r){const i=r.type;{const a=Ah(i,!1);if(a&&(a===t||a===rt(t)||a===vr(rt(t))))return i}const o=sa(r[e]||i[e],t)||sa(r.appContext[e],t);return!o&&s?i:o}}function sa(e,t){return e&&(e[t]||e[rt(t)]||e[vr(rt(t))])}function cc(e,t,n,s){let r;const i=n,o=q(e);if(o||_e(e)){const a=o&&Tn(e);let l=!1;a&&(l=!st(e),e=Ar(e)),r=new Array(e.length);for(let c=0,u=e.length;c<u;c++)r[c]=t(l?Te(e[c]):e[c],c,void 0,i)}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,i)}else if(me(e))if(e[Symbol.iterator])r=Array.from(e,(a,l)=>t(a,l,void 0,i));else{const a=Object.keys(e);r=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];r[l]=t(e[u],u,l,i)}}else r=[];return r}function Ud(e,t,n={},s,r){if($e.ce||$e.parent&&In($e.parent)&&$e.parent.ce)return fe(),dr(He,null,[Ee("slot",n,s)],64);let i=e[t];i&&i._c&&(i._d=!1),fe();const o=i&&uc(i(n)),a=n.key||o&&o.key,l=dr(He,{key:(a&&!$t(a)?a:`_${t}`)+""},o||[],o&&e._===1?64:-2);return i&&i._c&&(i._d=!0),l}function uc(e){return e.some(t=>_s(t)?!(t.type===Gt||t.type===He&&!uc(t.children)):!0)?e:null}const Ci=e=>e?kc(e)?yo(e):Ci(e.parent):null,ls=Fe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ci(e.parent),$root:e=>Ci(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>dc(e),$forceUpdate:e=>e.f||(e.f=()=>{ho(e.update)}),$nextTick:e=>e.n||(e.n=Zl.bind(e.proxy)),$watch:e=>ah.bind(e)}),ti=(e,t)=>e!==pe&&!e.__isScriptSetup&&re(e,t),jd={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const m=o[t];if(m!==void 0)switch(m){case 1:return s[t];case 2:return r[t];case 4:return n[t];case 3:return i[t]}else{if(ti(s,t))return o[t]=1,s[t];if(r!==pe&&re(r,t))return o[t]=2,r[t];if((c=e.propsOptions[0])&&re(c,t))return o[t]=3,i[t];if(n!==pe&&re(n,t))return o[t]=4,n[t];Pi&&(o[t]=0)}}const u=ls[t];let f,h;if(u)return t==="$attrs"&&Pe(e.attrs,"get",""),u(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(n!==pe&&re(n,t))return o[t]=4,n[t];if(h=l.config.globalProperties,re(h,t))return h[t]},set({_:e},t,n){const{data:s,setupState:r,ctx:i}=e;return ti(r,t)?(r[t]=n,!0):s!==pe&&re(s,t)?(s[t]=n,!0):re(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||e!==pe&&re(e,o)||ti(t,o)||(a=i[0])&&re(a,o)||re(s,o)||re(ls,o)||re(r.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:re(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ra(e){return q(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Pi=!0;function Hd(e){const t=dc(e),n=e.proxy,s=e.ctx;Pi=!1,t.beforeCreate&&ia(t.beforeCreate,e,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:h,beforeUpdate:m,updated:y,activated:_,deactivated:w,beforeDestroy:T,beforeUnmount:S,destroyed:C,unmounted:v,render:L,renderTracked:D,renderTriggered:N,errorCaptured:ae,serverPrefetch:ee,expose:Z,inheritAttrs:G,components:Le,directives:De,filters:en}=t;if(c&&Vd(c,s,null),o)for(const le in o){const te=o[le];z(te)&&(s[le]=te.bind(n))}if(r){const le=r.call(n,n);me(le)&&(e.data=Cr(le))}if(Pi=!0,i)for(const le in i){const te=i[le],Ct=z(te)?te.bind(n,n):z(te.get)?te.get.bind(n,n):vt,Dt=!z(te)&&z(te.set)?te.set.bind(n):vt,dt=at({get:Ct,set:Dt});Object.defineProperty(s,le,{enumerable:!0,configurable:!0,get:()=>dt.value,set:Be=>dt.value=Be})}if(a)for(const le in a)fc(a[le],s,n,le);if(l){const le=z(l)?l.call(n):l;Reflect.ownKeys(le).forEach(te=>{zs(te,le[te])})}u&&ia(u,e,"c");function Se(le,te){q(te)?te.forEach(Ct=>le(Ct.bind(n))):te&&le(te.bind(n))}if(Se(Pd,f),Se(Td,h),Se(Od,m),Se(kd,y),Se(Rd,_),Se(Ad,w),Se($d,ae),Se(Nd,D),Se(Md,N),Se(Id,S),Se(lc,v),Se(Fd,ee),q(Z))if(Z.length){const le=e.exposed||(e.exposed={});Z.forEach(te=>{Object.defineProperty(le,te,{get:()=>n[te],set:Ct=>n[te]=Ct})})}else e.exposed||(e.exposed={});L&&e.render===vt&&(e.render=L),G!=null&&(e.inheritAttrs=G),Le&&(e.components=Le),De&&(e.directives=De),ee&&ic(e)}function Vd(e,t,n=vt){q(e)&&(e=Ti(e));for(const s in e){const r=e[s];let i;me(r)?"default"in r?i=Nt(r.from||s,r.default,!0):i=Nt(r.from||s):i=Nt(r),Ie(i)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[s]=i}}function ia(e,t,n){Rt(q(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function fc(e,t,n,s){let r=s.includes(".")?Ac(n,s):()=>n[s];if(_e(e)){const i=t[e];z(i)&&Xs(r,i)}else if(z(e))Xs(r,e.bind(n));else if(me(e))if(q(e))e.forEach(i=>fc(i,t,n,s));else{const i=z(e.handler)?e.handler.bind(n):t[e.handler];z(i)&&Xs(r,i,e)}}function dc(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!r.length&&!n&&!s?l=t:(l={},r.length&&r.forEach(c=>fr(l,c,o,!0)),fr(l,t,o)),me(t)&&i.set(t,l),l}function fr(e,t,n,s=!1){const{mixins:r,extends:i}=t;i&&fr(e,i,n,!0),r&&r.forEach(o=>fr(e,o,n,!0));for(const o in t)if(!(s&&o==="expose")){const a=Wd[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Wd={data:oa,props:aa,emits:aa,methods:Qn,computed:Qn,beforeCreate:Me,created:Me,beforeMount:Me,mounted:Me,beforeUpdate:Me,updated:Me,beforeDestroy:Me,beforeUnmount:Me,destroyed:Me,unmounted:Me,activated:Me,deactivated:Me,errorCaptured:Me,serverPrefetch:Me,components:Qn,directives:Qn,watch:Jd,provide:oa,inject:qd};function oa(e,t){return t?e?function(){return Fe(z(e)?e.call(this,this):e,z(t)?t.call(this,this):t)}:t:e}function qd(e,t){return Qn(Ti(e),Ti(t))}function Ti(e){if(q(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Me(e,t){return e?[...new Set([].concat(e,t))]:t}function Qn(e,t){return e?Fe(Object.create(null),e,t):t}function aa(e,t){return e?q(e)&&q(t)?[...new Set([...e,...t])]:Fe(Object.create(null),ra(e),ra(t??{})):t}function Jd(e,t){if(!e)return t;if(!t)return e;const n=Fe(Object.create(null),e);for(const s in t)n[s]=Me(e[s],t[s]);return n}function hc(){return{app:null,config:{isNativeTag:If,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Kd=0;function zd(e,t){return function(s,r=null){z(s)||(s=Fe({},s)),r!=null&&!me(r)&&(r=null);const i=hc(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:Kd++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:Ph,get config(){return i.config},set config(u){},use(u,...f){return o.has(u)||(u&&z(u.install)?(o.add(u),u.install(c,...f)):z(u)&&(o.add(u),u(c,...f))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,f){return f?(i.components[u]=f,c):i.components[u]},directive(u,f){return f?(i.directives[u]=f,c):i.directives[u]},mount(u,f,h){if(!l){const m=c._ceVNode||Ee(s,r);return m.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),e(m,u,h),l=!0,c._container=u,u.__vue_app__=c,yo(m.component)}},onUnmount(u){a.push(u)},unmount(){l&&(Rt(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,f){return i.provides[u]=f,c},runWithContext(u){const f=Fn;Fn=c;try{return u()}finally{Fn=f}}};return c}}let Fn=null;function zs(e,t){if(Oe){let n=Oe.provides;const s=Oe.parent&&Oe.parent.provides;s===n&&(n=Oe.provides=Object.create(s)),n[e]=t}}function Nt(e,t,n=!1){const s=Oe||$e;if(s||Fn){const r=Fn?Fn._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&z(t)?t.call(s&&s.proxy):t}}const pc={},mc=()=>Object.create(pc),gc=e=>Object.getPrototypeOf(e)===pc;function Xd(e,t,n,s=!1){const r={},i=mc();e.propsDefaults=Object.create(null),yc(e,t,r,i);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);n?e.props=s?r:zl(r):e.type.props?e.props=r:e.props=i,e.attrs=i}function Gd(e,t,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=e,a=se(r),[l]=e.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let h=u[f];if(Or(e.emitsOptions,h))continue;const m=t[h];if(l)if(re(i,h))m!==i[h]&&(i[h]=m,c=!0);else{const y=rt(h);r[y]=Oi(l,a,y,m,e,!1)}else m!==i[h]&&(i[h]=m,c=!0)}}}else{yc(e,t,r,i)&&(c=!0);let u;for(const f in a)(!t||!re(t,f)&&((u=hn(f))===f||!re(t,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(r[f]=Oi(l,a,f,void 0,e,!0)):delete r[f]);if(i!==a)for(const f in i)(!t||!re(t,f))&&(delete i[f],c=!0)}c&&Mt(e.attrs,"set","")}function yc(e,t,n,s){const[r,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(rs(l))continue;const c=t[l];let u;r&&re(r,u=rt(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:Or(e.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(i){const l=se(n),c=a||pe;for(let u=0;u<i.length;u++){const f=i[u];n[f]=Oi(r,l,f,c[f],e,!re(c,f))}}return o}function Oi(e,t,n,s,r,i){const o=e[n];if(o!=null){const a=re(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&z(l)){const{propsDefaults:c}=r;if(n in c)s=c[n];else{const u=Cs(r);s=c[n]=l.call(null,t),u()}}else s=l;r.ce&&r.ce._setProp(n,s)}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===hn(n))&&(s=!0))}return s}const Qd=new WeakMap;function _c(e,t,n=!1){const s=n?Qd:t.propsCache,r=s.get(e);if(r)return r;const i=e.props,o={},a=[];let l=!1;if(!z(e)){const u=f=>{l=!0;const[h,m]=_c(f,t,!0);Fe(o,h),m&&a.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!l)return me(e)&&s.set(e,Cn),Cn;if(q(i))for(let u=0;u<i.length;u++){const f=rt(i[u]);la(f)&&(o[f]=pe)}else if(i)for(const u in i){const f=rt(u);if(la(f)){const h=i[u],m=o[f]=q(h)||z(h)?{type:h}:Fe({},h),y=m.type;let _=!1,w=!0;if(q(y))for(let T=0;T<y.length;++T){const S=y[T],C=z(S)&&S.name;if(C==="Boolean"){_=!0;break}else C==="String"&&(w=!1)}else _=z(y)&&y.name==="Boolean";m[0]=_,m[1]=w,(_||re(m,"default"))&&a.push(f)}}const c=[o,a];return me(e)&&s.set(e,c),c}function la(e){return e[0]!=="$"&&!rs(e)}const wc=e=>e[0]==="_"||e==="$stable",mo=e=>q(e)?e.map(xt):[xt(e)],Yd=(e,t,n)=>{if(t._n)return t;const s=xd((...r)=>mo(t(...r)),n);return s._c=!1,s},bc=(e,t,n)=>{const s=e._ctx;for(const r in e){if(wc(r))continue;const i=e[r];if(z(i))t[r]=Yd(r,i,s);else if(i!=null){const o=mo(i);t[r]=()=>o}}},Sc=(e,t)=>{const n=mo(t);e.slots.default=()=>n},xc=(e,t,n)=>{for(const s in t)(n||s!=="_")&&(e[s]=t[s])},Zd=(e,t,n)=>{const s=e.slots=mc();if(e.vnode.shapeFlag&32){const r=t._;r?(xc(s,t,n),n&&Ol(s,"_",r,!0)):bc(t,s)}else t&&Sc(e,t)},eh=(e,t,n)=>{const{vnode:s,slots:r}=e;let i=!0,o=pe;if(s.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:xc(r,t,n):(i=!t.$stable,bc(t,r)),o=t}else t&&(Sc(e,t),o={default:1});if(i)for(const a in r)!wc(a)&&o[a]==null&&delete r[a]},Ge=ph;function th(e){return nh(e)}function nh(e,t){const n=Rr();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:h,setScopeId:m=vt,insertStaticContent:y}=e,_=(d,p,g,x=null,A=null,R=null,I=void 0,k=null,O=!!p.dynamicChildren)=>{if(d===p)return;d&&!zn(d,p)&&(x=E(d),Be(d,A,R,!0),d=null),p.patchFlag===-2&&(O=!1,p.dynamicChildren=null);const{type:P,ref:H,shapeFlag:M}=p;switch(P){case kr:w(d,p,g,x);break;case Gt:T(d,p,g,x);break;case si:d==null&&S(p,g,x,I);break;case He:Le(d,p,g,x,A,R,I,k,O);break;default:M&1?L(d,p,g,x,A,R,I,k,O):M&6?De(d,p,g,x,A,R,I,k,O):(M&64||M&128)&&P.process(d,p,g,x,A,R,I,k,O,B)}H!=null&&A&&ur(H,d&&d.ref,R,p||d,!p)},w=(d,p,g,x)=>{if(d==null)s(p.el=a(p.children),g,x);else{const A=p.el=d.el;p.children!==d.children&&c(A,p.children)}},T=(d,p,g,x)=>{d==null?s(p.el=l(p.children||""),g,x):p.el=d.el},S=(d,p,g,x)=>{[d.el,d.anchor]=y(d.children,p,g,x,d.el,d.anchor)},C=({el:d,anchor:p},g,x)=>{let A;for(;d&&d!==p;)A=h(d),s(d,g,x),d=A;s(p,g,x)},v=({el:d,anchor:p})=>{let g;for(;d&&d!==p;)g=h(d),r(d),d=g;r(p)},L=(d,p,g,x,A,R,I,k,O)=>{p.type==="svg"?I="svg":p.type==="math"&&(I="mathml"),d==null?D(p,g,x,A,R,I,k,O):ee(d,p,A,R,I,k,O)},D=(d,p,g,x,A,R,I,k)=>{let O,P;const{props:H,shapeFlag:M,transition:j,dirs:W}=d;if(O=d.el=o(d.type,R,H&&H.is,H),M&8?u(O,d.children):M&16&&ae(d.children,O,null,x,A,ni(d,R),I,k),W&&tn(d,null,x,"created"),N(O,d,d.scopeId,I,x),H){for(const de in H)de!=="value"&&!rs(de)&&i(O,de,null,H[de],R,x);"value"in H&&i(O,"value",null,H.value,R),(P=H.onVnodeBeforeMount)&&gt(P,x,d)}W&&tn(d,null,x,"beforeMount");const Y=sh(A,j);Y&&j.beforeEnter(O),s(O,p,g),((P=H&&H.onVnodeMounted)||Y||W)&&Ge(()=>{P&&gt(P,x,d),Y&&j.enter(O),W&&tn(d,null,x,"mounted")},A)},N=(d,p,g,x,A)=>{if(g&&m(d,g),x)for(let R=0;R<x.length;R++)m(d,x[R]);if(A){let R=A.subTree;if(p===R||Pc(R.type)&&(R.ssContent===p||R.ssFallback===p)){const I=A.vnode;N(d,I,I.scopeId,I.slotScopeIds,A.parent)}}},ae=(d,p,g,x,A,R,I,k,O=0)=>{for(let P=O;P<d.length;P++){const H=d[P]=k?Wt(d[P]):xt(d[P]);_(null,H,p,g,x,A,R,I,k)}},ee=(d,p,g,x,A,R,I)=>{const k=p.el=d.el;let{patchFlag:O,dynamicChildren:P,dirs:H}=p;O|=d.patchFlag&16;const M=d.props||pe,j=p.props||pe;let W;if(g&&nn(g,!1),(W=j.onVnodeBeforeUpdate)&&gt(W,g,p,d),H&&tn(p,d,g,"beforeUpdate"),g&&nn(g,!0),(M.innerHTML&&j.innerHTML==null||M.textContent&&j.textContent==null)&&u(k,""),P?Z(d.dynamicChildren,P,k,g,x,ni(p,A),R):I||te(d,p,k,null,g,x,ni(p,A),R,!1),O>0){if(O&16)G(k,M,j,g,A);else if(O&2&&M.class!==j.class&&i(k,"class",null,j.class,A),O&4&&i(k,"style",M.style,j.style,A),O&8){const Y=p.dynamicProps;for(let de=0;de<Y.length;de++){const ie=Y[de],Je=M[ie],Ue=j[ie];(Ue!==Je||ie==="value")&&i(k,ie,Je,Ue,A,g)}}O&1&&d.children!==p.children&&u(k,p.children)}else!I&&P==null&&G(k,M,j,g,A);((W=j.onVnodeUpdated)||H)&&Ge(()=>{W&&gt(W,g,p,d),H&&tn(p,d,g,"updated")},x)},Z=(d,p,g,x,A,R,I)=>{for(let k=0;k<p.length;k++){const O=d[k],P=p[k],H=O.el&&(O.type===He||!zn(O,P)||O.shapeFlag&70)?f(O.el):g;_(O,P,H,null,x,A,R,I,!0)}},G=(d,p,g,x,A)=>{if(p!==g){if(p!==pe)for(const R in p)!rs(R)&&!(R in g)&&i(d,R,p[R],null,A,x);for(const R in g){if(rs(R))continue;const I=g[R],k=p[R];I!==k&&R!=="value"&&i(d,R,k,I,A,x)}"value"in g&&i(d,"value",p.value,g.value,A)}},Le=(d,p,g,x,A,R,I,k,O)=>{const P=p.el=d?d.el:a(""),H=p.anchor=d?d.anchor:a("");let{patchFlag:M,dynamicChildren:j,slotScopeIds:W}=p;W&&(k=k?k.concat(W):W),d==null?(s(P,g,x),s(H,g,x),ae(p.children||[],g,H,A,R,I,k,O)):M>0&&M&64&&j&&d.dynamicChildren?(Z(d.dynamicChildren,j,g,A,R,I,k),(p.key!=null||A&&p===A.subTree)&&Ec(d,p,!0)):te(d,p,g,H,A,R,I,k,O)},De=(d,p,g,x,A,R,I,k,O)=>{p.slotScopeIds=k,d==null?p.shapeFlag&512?A.ctx.activate(p,g,x,I,O):en(p,g,x,A,R,I,O):At(d,p,O)},en=(d,p,g,x,A,R,I)=>{const k=d.component=Sh(d,x,A);if(oc(d)&&(k.ctx.renderer=B),xh(k,!1,I),k.asyncDep){if(A&&A.registerDep(k,Se,I),!d.el){const O=k.subTree=Ee(Gt);T(null,O,p,g)}}else Se(k,d,p,g,A,R,I)},At=(d,p,g)=>{const x=p.component=d.component;if(dh(d,p,g))if(x.asyncDep&&!x.asyncResolved){le(x,p,g);return}else x.next=p,x.update();else p.el=d.el,x.vnode=p},Se=(d,p,g,x,A,R,I)=>{const k=()=>{if(d.isMounted){let{next:M,bu:j,u:W,parent:Y,vnode:de}=d;{const pt=vc(d);if(pt){M&&(M.el=de.el,le(d,M,I)),pt.asyncDep.then(()=>{d.isUnmounted||k()});return}}let ie=M,Je;nn(d,!1),M?(M.el=de.el,le(d,M,I)):M=de,j&&Gr(j),(Je=M.props&&M.props.onVnodeBeforeUpdate)&&gt(Je,Y,M,de),nn(d,!0);const Ue=ua(d),ht=d.subTree;d.subTree=Ue,_(ht,Ue,f(ht.el),E(ht),d,A,R),M.el=Ue.el,ie===null&&hh(d,Ue.el),W&&Ge(W,A),(Je=M.props&&M.props.onVnodeUpdated)&&Ge(()=>gt(Je,Y,M,de),A)}else{let M;const{el:j,props:W}=p,{bm:Y,m:de,parent:ie,root:Je,type:Ue}=d,ht=In(p);nn(d,!1),Y&&Gr(Y),!ht&&(M=W&&W.onVnodeBeforeMount)&&gt(M,ie,p),nn(d,!0);{Je.ce&&Je.ce._injectChildStyle(Ue);const pt=d.subTree=ua(d);_(null,pt,g,x,d,A,R),p.el=pt.el}if(de&&Ge(de,A),!ht&&(M=W&&W.onVnodeMounted)){const pt=p;Ge(()=>gt(M,ie,pt),A)}(p.shapeFlag&256||ie&&In(ie.vnode)&&ie.vnode.shapeFlag&256)&&d.a&&Ge(d.a,A),d.isMounted=!0,p=g=x=null}};d.scope.on();const O=d.effect=new Ml(k);d.scope.off();const P=d.update=O.run.bind(O),H=d.job=O.runIfDirty.bind(O);H.i=d,H.id=d.uid,O.scheduler=()=>ho(H),nn(d,!0),P()},le=(d,p,g)=>{p.component=d;const x=d.vnode.props;d.vnode=p,d.next=null,Gd(d,p.props,x,g),eh(d,p.children,g),Qt(),na(d),Yt()},te=(d,p,g,x,A,R,I,k,O=!1)=>{const P=d&&d.children,H=d?d.shapeFlag:0,M=p.children,{patchFlag:j,shapeFlag:W}=p;if(j>0){if(j&128){Dt(P,M,g,x,A,R,I,k,O);return}else if(j&256){Ct(P,M,g,x,A,R,I,k,O);return}}W&8?(H&16&&tt(P,A,R),M!==P&&u(g,M)):H&16?W&16?Dt(P,M,g,x,A,R,I,k,O):tt(P,A,R,!0):(H&8&&u(g,""),W&16&&ae(M,g,x,A,R,I,k,O))},Ct=(d,p,g,x,A,R,I,k,O)=>{d=d||Cn,p=p||Cn;const P=d.length,H=p.length,M=Math.min(P,H);let j;for(j=0;j<M;j++){const W=p[j]=O?Wt(p[j]):xt(p[j]);_(d[j],W,g,null,A,R,I,k,O)}P>H?tt(d,A,R,!0,!1,M):ae(p,g,x,A,R,I,k,O,M)},Dt=(d,p,g,x,A,R,I,k,O)=>{let P=0;const H=p.length;let M=d.length-1,j=H-1;for(;P<=M&&P<=j;){const W=d[P],Y=p[P]=O?Wt(p[P]):xt(p[P]);if(zn(W,Y))_(W,Y,g,null,A,R,I,k,O);else break;P++}for(;P<=M&&P<=j;){const W=d[M],Y=p[j]=O?Wt(p[j]):xt(p[j]);if(zn(W,Y))_(W,Y,g,null,A,R,I,k,O);else break;M--,j--}if(P>M){if(P<=j){const W=j+1,Y=W<H?p[W].el:x;for(;P<=j;)_(null,p[P]=O?Wt(p[P]):xt(p[P]),g,Y,A,R,I,k,O),P++}}else if(P>j)for(;P<=M;)Be(d[P],A,R,!0),P++;else{const W=P,Y=P,de=new Map;for(P=Y;P<=j;P++){const Ke=p[P]=O?Wt(p[P]):xt(p[P]);Ke.key!=null&&de.set(Ke.key,P)}let ie,Je=0;const Ue=j-Y+1;let ht=!1,pt=0;const Jn=new Array(Ue);for(P=0;P<Ue;P++)Jn[P]=0;for(P=W;P<=M;P++){const Ke=d[P];if(Je>=Ue){Be(Ke,A,R,!0);continue}let mt;if(Ke.key!=null)mt=de.get(Ke.key);else for(ie=Y;ie<=j;ie++)if(Jn[ie-Y]===0&&zn(Ke,p[ie])){mt=ie;break}mt===void 0?Be(Ke,A,R,!0):(Jn[mt-Y]=P+1,mt>=pt?pt=mt:ht=!0,_(Ke,p[mt],g,null,A,R,I,k,O),Je++)}const Qo=ht?rh(Jn):Cn;for(ie=Qo.length-1,P=Ue-1;P>=0;P--){const Ke=Y+P,mt=p[Ke],Yo=Ke+1<H?p[Ke+1].el:x;Jn[P]===0?_(null,mt,g,Yo,A,R,I,k,O):ht&&(ie<0||P!==Qo[ie]?dt(mt,g,Yo,2):ie--)}}},dt=(d,p,g,x,A=null)=>{const{el:R,type:I,transition:k,children:O,shapeFlag:P}=d;if(P&6){dt(d.component.subTree,p,g,x);return}if(P&128){d.suspense.move(p,g,x);return}if(P&64){I.move(d,p,g,B);return}if(I===He){s(R,p,g);for(let M=0;M<O.length;M++)dt(O[M],p,g,x);s(d.anchor,p,g);return}if(I===si){C(d,p,g);return}if(x!==2&&P&1&&k)if(x===0)k.beforeEnter(R),s(R,p,g),Ge(()=>k.enter(R),A);else{const{leave:M,delayLeave:j,afterLeave:W}=k,Y=()=>s(R,p,g),de=()=>{M(R,()=>{Y(),W&&W()})};j?j(R,Y,de):de()}else s(R,p,g)},Be=(d,p,g,x=!1,A=!1)=>{const{type:R,props:I,ref:k,children:O,dynamicChildren:P,shapeFlag:H,patchFlag:M,dirs:j,cacheIndex:W}=d;if(M===-2&&(A=!1),k!=null&&ur(k,null,g,d,!0),W!=null&&(p.renderCache[W]=void 0),H&256){p.ctx.deactivate(d);return}const Y=H&1&&j,de=!In(d);let ie;if(de&&(ie=I&&I.onVnodeBeforeUnmount)&&gt(ie,p,d),H&6)Ns(d.component,g,x);else{if(H&128){d.suspense.unmount(g,x);return}Y&&tn(d,null,p,"beforeUnmount"),H&64?d.type.remove(d,p,g,B,x):P&&!P.hasOnce&&(R!==He||M>0&&M&64)?tt(P,p,g,!1,!0):(R===He&&M&384||!A&&H&16)&&tt(O,p,g),x&&mn(d)}(de&&(ie=I&&I.onVnodeUnmounted)||Y)&&Ge(()=>{ie&&gt(ie,p,d),Y&&tn(d,null,p,"unmounted")},g)},mn=d=>{const{type:p,el:g,anchor:x,transition:A}=d;if(p===He){gn(g,x);return}if(p===si){v(d);return}const R=()=>{r(g),A&&!A.persisted&&A.afterLeave&&A.afterLeave()};if(d.shapeFlag&1&&A&&!A.persisted){const{leave:I,delayLeave:k}=A,O=()=>I(g,R);k?k(d.el,R,O):O()}else R()},gn=(d,p)=>{let g;for(;d!==p;)g=h(d),r(d),d=g;r(p)},Ns=(d,p,g)=>{const{bum:x,scope:A,job:R,subTree:I,um:k,m:O,a:P}=d;ca(O),ca(P),x&&Gr(x),A.stop(),R&&(R.flags|=8,Be(I,d,p,g)),k&&Ge(k,p),Ge(()=>{d.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},tt=(d,p,g,x=!1,A=!1,R=0)=>{for(let I=R;I<d.length;I++)Be(d[I],p,g,x,A)},E=d=>{if(d.shapeFlag&6)return E(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const p=h(d.anchor||d.el),g=p&&p[Ed];return g?h(g):p};let $=!1;const F=(d,p,g)=>{d==null?p._vnode&&Be(p._vnode,null,null,!0):_(p._vnode||null,d,p,null,null,null,g),p._vnode=d,$||($=!0,na(),tc(),$=!1)},B={p:_,um:Be,m:dt,r:mn,mt:en,mc:ae,pc:te,pbc:Z,n:E,o:e};return{render:F,hydrate:void 0,createApp:zd(F)}}function ni({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function nn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function sh(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ec(e,t,n=!1){const s=e.children,r=t.children;if(q(s)&&q(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=Wt(r[i]),a.el=o.el),!n&&a.patchFlag!==-2&&Ec(o,a)),a.type===kr&&(a.el=o.el)}}function rh(e){const t=e.slice(),n=[0];let s,r,i,o,a;const l=e.length;for(s=0;s<l;s++){const c=e[s];if(c!==0){if(r=n[n.length-1],e[r]<c){t[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<c?i=a+1:o=a;c<e[n[i]]&&(i>0&&(t[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}function vc(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:vc(t)}function ca(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const ih=Symbol.for("v-scx"),oh=()=>Nt(ih);function Xs(e,t,n){return Rc(e,t,n)}function Rc(e,t,n=pe){const{immediate:s,deep:r,flush:i,once:o}=n,a=Fe({},n),l=t&&s||!t&&i!=="post";let c;if(bs){if(i==="sync"){const m=oh();c=m.__watcherHandles||(m.__watcherHandles=[])}else if(!l){const m=()=>{};return m.stop=vt,m.resume=vt,m.pause=vt,m}}const u=Oe;a.call=(m,y,_)=>Rt(m,u,y,_);let f=!1;i==="post"?a.scheduler=m=>{Ge(m,u&&u.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(m,y)=>{y?m():ho(m)}),a.augmentJob=m=>{t&&(m.flags|=4),f&&(m.flags|=2,u&&(m.id=u.uid,m.i=u))};const h=_d(e,t,a);return bs&&(c?c.push(h):l&&h()),h}function ah(e,t,n){const s=this.proxy,r=_e(e)?e.includes(".")?Ac(s,e):()=>s[e]:e.bind(s,s);let i;z(t)?i=t:(i=t.handler,n=t);const o=Cs(this),a=Rc(r,i.bind(s),n);return o(),a}function Ac(e,t){const n=t.split(".");return()=>{let s=e;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const lh=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${rt(t)}Modifiers`]||e[`${hn(t)}Modifiers`];function ch(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||pe;let r=n;const i=t.startsWith("update:"),o=i&&lh(s,t.slice(7));o&&(o.trim&&(r=n.map(u=>_e(u)?u.trim():u)),o.number&&(r=n.map(Lf)));let a,l=s[a=Xr(t)]||s[a=Xr(rt(t))];!l&&i&&(l=s[a=Xr(hn(t))]),l&&Rt(l,e,6,r);const c=s[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Rt(c,e,6,r)}}function Cc(e,t,n=!1){const s=t.emitsCache,r=s.get(e);if(r!==void 0)return r;const i=e.emits;let o={},a=!1;if(!z(e)){const l=c=>{const u=Cc(c,t,!0);u&&(a=!0,Fe(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(me(e)&&s.set(e,null),null):(q(i)?i.forEach(l=>o[l]=null):Fe(o,i),me(e)&&s.set(e,o),o)}function Or(e,t){return!e||!Sr(t)?!1:(t=t.slice(2).replace(/Once$/,""),re(e,t[0].toLowerCase()+t.slice(1))||re(e,hn(t))||re(e,t))}function ua(e){const{type:t,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:f,data:h,setupState:m,ctx:y,inheritAttrs:_}=e,w=cr(e);let T,S;try{if(n.shapeFlag&4){const v=r||s,L=v;T=xt(c.call(L,v,u,f,m,h,y)),S=a}else{const v=t;T=xt(v.length>1?v(f,{attrs:a,slots:o,emit:l}):v(f,null)),S=t.props?a:uh(a)}}catch(v){cs.length=0,Pr(v,e,1),T=Ee(Gt)}let C=T;if(S&&_!==!1){const v=Object.keys(S),{shapeFlag:L}=C;v.length&&L&7&&(i&&v.some(no)&&(S=fh(S,i)),C=Ln(C,S,!1,!0))}return n.dirs&&(C=Ln(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(n.dirs):n.dirs),n.transition&&po(C,n.transition),T=C,cr(w),T}const uh=e=>{let t;for(const n in e)(n==="class"||n==="style"||Sr(n))&&((t||(t={}))[n]=e[n]);return t},fh=(e,t)=>{const n={};for(const s in e)(!no(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function dh(e,t,n){const{props:s,children:r,component:i}=e,{props:o,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?fa(s,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const h=u[f];if(o[h]!==s[h]&&!Or(c,h))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?fa(s,o,c):!0:!!o;return!1}function fa(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(t[i]!==e[i]&&!Or(n,i))return!0}return!1}function hh({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const Pc=e=>e.__isSuspense;function ph(e,t){t&&t.pendingBranch?q(e)?t.effects.push(...e):t.effects.push(e):Sd(e)}const He=Symbol.for("v-fgt"),kr=Symbol.for("v-txt"),Gt=Symbol.for("v-cmt"),si=Symbol.for("v-stc"),cs=[];let Ze=null;function fe(e=!1){cs.push(Ze=e?null:[])}function mh(){cs.pop(),Ze=cs[cs.length-1]||null}let ys=1;function da(e,t=!1){ys+=e,e<0&&Ze&&t&&(Ze.hasOnce=!0)}function Tc(e){return e.dynamicChildren=ys>0?Ze||Cn:null,mh(),ys>0&&Ze&&Ze.push(e),e}function ye(e,t,n,s,r,i){return Tc(J(e,t,n,s,r,i,!0))}function dr(e,t,n,s,r){return Tc(Ee(e,t,n,s,r,!0))}function _s(e){return e?e.__v_isVNode===!0:!1}function zn(e,t){return e.type===t.type&&e.key===t.key}const Oc=({key:e})=>e??null,Gs=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?_e(e)||Ie(e)||z(e)?{i:$e,r:e,k:t,f:!!n}:e:null);function J(e,t=null,n=null,s=0,r=null,i=e===He?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Oc(t),ref:t&&Gs(t),scopeId:sc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:$e};return a?(go(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=_e(n)?8:16),ys>0&&!o&&Ze&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ze.push(l),l}const Ee=gh;function gh(e,t=null,n=null,s=0,r=null,i=!1){if((!e||e===Dd)&&(e=Gt),_s(e)){const a=Ln(e,t,!0);return n&&go(a,n),ys>0&&!i&&Ze&&(a.shapeFlag&6?Ze[Ze.indexOf(e)]=a:Ze.push(a)),a.patchFlag=-2,a}if(Ch(e)&&(e=e.__vccOpts),t){t=yh(t);let{class:a,style:l}=t;a&&!_e(a)&&(t.class=Ve(a)),me(l)&&(fo(l)&&!q(l)&&(l=Fe({},l)),t.style=Xt(l))}const o=_e(e)?1:Pc(e)?128:vd(e)?64:me(e)?4:z(e)?2:0;return J(e,t,n,s,r,o,i,!0)}function yh(e){return e?fo(e)||gc(e)?Fe({},e):e:null}function Ln(e,t,n=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:l}=e,c=t?_h(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Oc(c),ref:t&&t.ref?n&&i?q(i)?i.concat(Gs(t)):[i,Gs(t)]:Gs(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==He?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ln(e.ssContent),ssFallback:e.ssFallback&&Ln(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&s&&po(u,l.clone(u)),u}function hr(e=" ",t=0){return Ee(kr,null,e,t)}function ws(e="",t=!1){return t?(fe(),dr(Gt,null,e)):Ee(Gt,null,e)}function xt(e){return e==null||typeof e=="boolean"?Ee(Gt):q(e)?Ee(He,null,e.slice()):_s(e)?Wt(e):Ee(kr,null,String(e))}function Wt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ln(e)}function go(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(q(t))n=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),go(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!gc(t)?t._ctx=$e:r===3&&$e&&($e.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else z(t)?(t={default:t,_ctx:$e},n=32):(t=String(t),s&64?(n=16,t=[hr(t)]):n=8);e.children=t,e.shapeFlag|=n}function _h(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=Ve([t.class,s.class]));else if(r==="style")t.style=Xt([t.style,s.style]);else if(Sr(r)){const i=t[r],o=s[r];o&&i!==o&&!(q(i)&&i.includes(o))&&(t[r]=i?[].concat(i,o):o)}else r!==""&&(t[r]=s[r])}return t}function gt(e,t,n,s=null){Rt(e,t,7,[n,s])}const wh=hc();let bh=0;function Sh(e,t,n){const s=e.type,r=(t?t.appContext:e.appContext)||wh,i={uid:bh++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Wf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_c(s,r),emitsOptions:Cc(s,r),emit:null,emitted:null,propsDefaults:pe,inheritAttrs:s.inheritAttrs,ctx:pe,data:pe,props:pe,attrs:pe,slots:pe,refs:pe,setupState:pe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=ch.bind(null,i),e.ce&&e.ce(i),i}let Oe=null,pr,ki;{const e=Rr(),t=(n,s)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};pr=t("__VUE_INSTANCE_SETTERS__",n=>Oe=n),ki=t("__VUE_SSR_SETTERS__",n=>bs=n)}const Cs=e=>{const t=Oe;return pr(e),e.scope.on(),()=>{e.scope.off(),pr(t)}},ha=()=>{Oe&&Oe.scope.off(),pr(null)};function kc(e){return e.vnode.shapeFlag&4}let bs=!1;function xh(e,t=!1,n=!1){t&&ki(t);const{props:s,children:r}=e.vnode,i=kc(e);Xd(e,s,i,t),Zd(e,r,n);const o=i?Eh(e,t):void 0;return t&&ki(!1),o}function Eh(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,jd);const{setup:s}=n;if(s){Qt();const r=e.setupContext=s.length>1?Rh(e):null,i=Cs(e),o=As(s,e,0,[e.props,r]),a=Cl(o);if(Yt(),i(),(a||e.sp)&&!In(e)&&ic(e),a){if(o.then(ha,ha),t)return o.then(l=>{pa(e,l)}).catch(l=>{Pr(l,e,0)});e.asyncDep=o}else pa(e,o)}else Ic(e)}function pa(e,t,n){z(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:me(t)&&(e.setupState=Ql(t)),Ic(e)}function Ic(e,t,n){const s=e.type;e.render||(e.render=s.render||vt);{const r=Cs(e);Qt();try{Hd(e)}finally{Yt(),r()}}}const vh={get(e,t){return Pe(e,"get",""),e[t]}};function Rh(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,vh),slots:e.slots,emit:e.emit,expose:t}}function yo(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ql(ud(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ls)return ls[n](e)},has(t,n){return n in t||n in ls}})):e.proxy}function Ah(e,t=!0){return z(e)?e.displayName||e.name:e.name||t&&e.__name}function Ch(e){return z(e)&&"__vccOpts"in e}const at=(e,t)=>gd(e,t,bs);function Fc(e,t,n){const s=arguments.length;return s===2?me(t)&&!q(t)?_s(t)?Ee(e,null,[t]):Ee(e,t):Ee(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&_s(n)&&(n=[n]),Ee(e,t,n))}const Ph="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ii;const ma=typeof window<"u"&&window.trustedTypes;if(ma)try{Ii=ma.createPolicy("vue",{createHTML:e=>e})}catch{}const Mc=Ii?e=>Ii.createHTML(e):e=>e,Th="http://www.w3.org/2000/svg",Oh="http://www.w3.org/1998/Math/MathML",It=typeof document<"u"?document:null,ga=It&&It.createElement("template"),kh={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const r=t==="svg"?It.createElementNS(Th,e):t==="mathml"?It.createElementNS(Oh,e):n?It.createElement(e,{is:n}):It.createElement(e);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>It.createTextNode(e),createComment:e=>It.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>It.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,r,i){const o=n?n.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{ga.innerHTML=Mc(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const a=ga.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Ih=Symbol("_vtc");function Fh(e,t,n){const s=e[Ih];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const ya=Symbol("_vod"),Mh=Symbol("_vsh"),Nh=Symbol(""),$h=/(^|;)\s*display\s*:/;function Lh(e,t,n){const s=e.style,r=_e(n);let i=!1;if(n&&!r){if(t)if(_e(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Qs(s,a,"")}else for(const o in t)n[o]==null&&Qs(s,o,"");for(const o in n)o==="display"&&(i=!0),Qs(s,o,n[o])}else if(r){if(t!==n){const o=s[Nh];o&&(n+=";"+o),s.cssText=n,i=$h.test(n)}}else t&&e.removeAttribute("style");ya in e&&(e[ya]=i?s.display:"",e[Mh]&&(s.display="none"))}const _a=/\s*!important$/;function Qs(e,t,n){if(q(n))n.forEach(s=>Qs(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=Dh(e,t);_a.test(n)?e.setProperty(hn(s),n.replace(_a,""),"important"):e[s]=n}}const wa=["Webkit","Moz","ms"],ri={};function Dh(e,t){const n=ri[t];if(n)return n;let s=rt(t);if(s!=="filter"&&s in e)return ri[t]=s;s=vr(s);for(let r=0;r<wa.length;r++){const i=wa[r]+s;if(i in e)return ri[t]=i}return t}const ba="http://www.w3.org/1999/xlink";function Sa(e,t,n,s,r,i=Vf(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(ba,t.slice(6,t.length)):e.setAttributeNS(ba,t,n):n==null||i&&!kl(n)?e.removeAttribute(t):e.setAttribute(t,i?"":$t(n)?String(n):n)}function xa(e,t,n,s,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Mc(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=kl(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(r||t)}function Bh(e,t,n,s){e.addEventListener(t,n,s)}function Uh(e,t,n,s){e.removeEventListener(t,n,s)}const Ea=Symbol("_vei");function jh(e,t,n,s,r=null){const i=e[Ea]||(e[Ea]={}),o=i[t];if(s&&o)o.value=s;else{const[a,l]=Hh(t);if(s){const c=i[t]=qh(s,r);Bh(e,a,c,l)}else o&&(Uh(e,a,o,l),i[t]=void 0)}}const va=/(?:Once|Passive|Capture)$/;function Hh(e){let t;if(va.test(e)){t={};let s;for(;s=e.match(va);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hn(e.slice(2)),t]}let ii=0;const Vh=Promise.resolve(),Wh=()=>ii||(Vh.then(()=>ii=0),ii=Date.now());function qh(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Rt(Jh(s,n.value),t,5,[s])};return n.value=e,n.attached=Wh(),n}function Jh(e,t){if(q(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const Ra=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Kh=(e,t,n,s,r,i)=>{const o=r==="svg";t==="class"?Fh(e,s,o):t==="style"?Lh(e,n,s):Sr(t)?no(t)||jh(e,t,n,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):zh(e,t,s,o))?(xa(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Sa(e,t,s,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!_e(s))?xa(e,rt(t),s,i,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Sa(e,t,s,o))};function zh(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ra(t)&&z(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Ra(t)&&_e(n)?!1:t in e}const Xh=Fe({patchProp:Kh},kh);let Aa;function Gh(){return Aa||(Aa=th(Xh))}const Qh=(...e)=>{const t=Gh().createApp(...e),{mount:n}=t;return t.mount=s=>{const r=Zh(s);if(!r)return;const i=t._component;!z(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,Yh(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function Yh(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Zh(e){return _e(e)?document.querySelector(e):e}const pn=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n},ep={},tp={id:"app"};function np(e,t,n,s,r,i){const o=as("router-view");return fe(),ye("div",tp,[Ee(o)])}const sp=pn(ep,[["render",np],["__scopeId","data-v-7d8763f0"]]);/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const En=typeof document<"u";function Nc(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function rp(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Nc(e.default)}const ne=Object.assign;function oi(e,t){const n={};for(const s in t){const r=t[s];n[s]=ut(r)?r.map(e):e(r)}return n}const us=()=>{},ut=Array.isArray,$c=/#/g,ip=/&/g,op=/\//g,ap=/=/g,lp=/\?/g,Lc=/\+/g,cp=/%5B/g,up=/%5D/g,Dc=/%5E/g,fp=/%60/g,Bc=/%7B/g,dp=/%7C/g,Uc=/%7D/g,hp=/%20/g;function _o(e){return encodeURI(""+e).replace(dp,"|").replace(cp,"[").replace(up,"]")}function pp(e){return _o(e).replace(Bc,"{").replace(Uc,"}").replace(Dc,"^")}function Fi(e){return _o(e).replace(Lc,"%2B").replace(hp,"+").replace($c,"%23").replace(ip,"%26").replace(fp,"`").replace(Bc,"{").replace(Uc,"}").replace(Dc,"^")}function mp(e){return Fi(e).replace(ap,"%3D")}function gp(e){return _o(e).replace($c,"%23").replace(lp,"%3F")}function yp(e){return e==null?"":gp(e).replace(op,"%2F")}function Ss(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const _p=/\/$/,wp=e=>e.replace(_p,"");function ai(e,t,n="/"){let s,r={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=t.slice(0,l),i=t.slice(l+1,a>-1?a:t.length),r=e(i)),a>-1&&(s=s||t.slice(0,a),o=t.slice(a,t.length)),s=Ep(s??t,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:Ss(o)}}function bp(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Ca(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Sp(e,t,n){const s=t.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&Dn(t.matched[s],n.matched[r])&&jc(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Dn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function jc(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!xp(e[n],t[n]))return!1;return!0}function xp(e,t){return ut(e)?Pa(e,t):ut(t)?Pa(t,e):e===t}function Pa(e,t){return ut(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function Ep(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o).join("/")}const Bt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var xs;(function(e){e.pop="pop",e.push="push"})(xs||(xs={}));var fs;(function(e){e.back="back",e.forward="forward",e.unknown=""})(fs||(fs={}));function vp(e){if(!e)if(En){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),wp(e)}const Rp=/^[^#]+#/;function Ap(e,t){return e.replace(Rp,"#")+t}function Cp(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const Ir=()=>({left:window.scrollX,top:window.scrollY});function Pp(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=Cp(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Ta(e,t){return(history.state?history.state.position-t:-1)+e}const Mi=new Map;function Tp(e,t){Mi.set(e,t)}function Op(e){const t=Mi.get(e);return Mi.delete(e),t}let kp=()=>location.protocol+"//"+location.host;function Hc(e,t){const{pathname:n,search:s,hash:r}=t,i=e.indexOf("#");if(i>-1){let a=r.includes(e.slice(i))?e.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),Ca(l,"")}return Ca(n,e)+s+r}function Ip(e,t,n,s){let r=[],i=[],o=null;const a=({state:h})=>{const m=Hc(e,location),y=n.value,_=t.value;let w=0;if(h){if(n.value=m,t.value=h,o&&o===y){o=null;return}w=_?h.position-_.position:0}else s(m);r.forEach(T=>{T(n.value,y,{delta:w,type:xs.pop,direction:w?w>0?fs.forward:fs.back:fs.unknown})})};function l(){o=n.value}function c(h){r.push(h);const m=()=>{const y=r.indexOf(h);y>-1&&r.splice(y,1)};return i.push(m),m}function u(){const{history:h}=window;h.state&&h.replaceState(ne({},h.state,{scroll:Ir()}),"")}function f(){for(const h of i)h();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:f}}function Oa(e,t,n,s=!1,r=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:r?Ir():null}}function Fp(e){const{history:t,location:n}=window,s={value:Hc(e,n)},r={value:t.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const f=e.indexOf("#"),h=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+l:kp()+e+l;try{t[u?"replaceState":"pushState"](c,"",h),r.value=c}catch(m){console.error(m),n[u?"replace":"assign"](h)}}function o(l,c){const u=ne({},t.state,Oa(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});i(l,u,!0),s.value=l}function a(l,c){const u=ne({},r.value,t.state,{forward:l,scroll:Ir()});i(u.current,u,!0);const f=ne({},Oa(s.value,l,null),{position:u.position+1},c);i(l,f,!1),s.value=l}return{location:s,state:r,push:a,replace:o}}function Mp(e){e=vp(e);const t=Fp(e),n=Ip(e,t.state,t.location,t.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=ne({location:"",base:e,go:s,createHref:Ap.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function Np(e){return typeof e=="string"||e&&typeof e=="object"}function Vc(e){return typeof e=="string"||typeof e=="symbol"}const Wc=Symbol("");var ka;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(ka||(ka={}));function Bn(e,t){return ne(new Error,{type:e,[Wc]:!0},t)}function Tt(e,t){return e instanceof Error&&Wc in e&&(t==null||!!(e.type&t))}const Ia="[^/]+?",$p={sensitive:!1,strict:!1,start:!0,end:!0},Lp=/[.+*?^${}()[\]/\\]/g;function Dp(e,t){const n=ne({},$p,t),s=[];let r=n.start?"^":"";const i=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let f=0;f<c.length;f++){const h=c[f];let m=40+(n.sensitive?.25:0);if(h.type===0)f||(r+="/"),r+=h.value.replace(Lp,"\\$&"),m+=40;else if(h.type===1){const{value:y,repeatable:_,optional:w,regexp:T}=h;i.push({name:y,repeatable:_,optional:w});const S=T||Ia;if(S!==Ia){m+=10;try{new RegExp(`(${S})`)}catch(v){throw new Error(`Invalid custom RegExp for param "${y}" (${S}): `+v.message)}}let C=_?`((?:${S})(?:/(?:${S}))*)`:`(${S})`;f||(C=w&&c.length<2?`(?:/${C})`:"/"+C),w&&(C+="?"),r+=C,m+=20,w&&(m+=-8),_&&(m+=-20),S===".*"&&(m+=-50)}u.push(m)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(c){const u=c.match(o),f={};if(!u)return null;for(let h=1;h<u.length;h++){const m=u[h]||"",y=i[h-1];f[y.name]=m&&y.repeatable?m.split("/"):m}return f}function l(c){let u="",f=!1;for(const h of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const m of h)if(m.type===0)u+=m.value;else if(m.type===1){const{value:y,repeatable:_,optional:w}=m,T=y in c?c[y]:"";if(ut(T)&&!_)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const S=ut(T)?T.join("/"):T;if(!S)if(w)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${y}"`);u+=S}}return u||"/"}return{re:o,score:s,keys:i,parse:a,stringify:l}}function Bp(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function qc(e,t){let n=0;const s=e.score,r=t.score;for(;n<s.length&&n<r.length;){const i=Bp(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(Fa(s))return 1;if(Fa(r))return-1}return r.length-s.length}function Fa(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Up={type:0,value:""},jp=/[a-zA-Z0-9_]/;function Hp(e){if(!e)return[[]];if(e==="/")return[[Up]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${n})/"${c}": ${m}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,c="",u="";function f(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&f(),o()):l===":"?(f(),n=1):h();break;case 4:h(),n=s;break;case 1:l==="("?n=2:jp.test(l)?h():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),f(),o(),r}function Vp(e,t,n){const s=Dp(Hp(e.path),n),r=ne(s,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function Wp(e,t){const n=[],s=new Map;t=La({strict:!1,end:!0,sensitive:!1},t);function r(f){return s.get(f)}function i(f,h,m){const y=!m,_=Na(f);_.aliasOf=m&&m.record;const w=La(t,f),T=[_];if("alias"in f){const v=typeof f.alias=="string"?[f.alias]:f.alias;for(const L of v)T.push(Na(ne({},_,{components:m?m.record.components:_.components,path:L,aliasOf:m?m.record:_})))}let S,C;for(const v of T){const{path:L}=v;if(h&&L[0]!=="/"){const D=h.record.path,N=D[D.length-1]==="/"?"":"/";v.path=h.record.path+(L&&N+L)}if(S=Vp(v,h,w),m?m.alias.push(S):(C=C||S,C!==S&&C.alias.push(S),y&&f.name&&!$a(S)&&o(f.name)),Jc(S)&&l(S),_.children){const D=_.children;for(let N=0;N<D.length;N++)i(D[N],S,m&&m.children[N])}m=m||S}return C?()=>{o(C)}:us}function o(f){if(Vc(f)){const h=s.get(f);h&&(s.delete(f),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(f);h>-1&&(n.splice(h,1),f.record.name&&s.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return n}function l(f){const h=Kp(f,n);n.splice(h,0,f),f.record.name&&!$a(f)&&s.set(f.record.name,f)}function c(f,h){let m,y={},_,w;if("name"in f&&f.name){if(m=s.get(f.name),!m)throw Bn(1,{location:f});w=m.record.name,y=ne(Ma(h.params,m.keys.filter(C=>!C.optional).concat(m.parent?m.parent.keys.filter(C=>C.optional):[]).map(C=>C.name)),f.params&&Ma(f.params,m.keys.map(C=>C.name))),_=m.stringify(y)}else if(f.path!=null)_=f.path,m=n.find(C=>C.re.test(_)),m&&(y=m.parse(_),w=m.record.name);else{if(m=h.name?s.get(h.name):n.find(C=>C.re.test(h.path)),!m)throw Bn(1,{location:f,currentLocation:h});w=m.record.name,y=ne({},h.params,f.params),_=m.stringify(y)}const T=[];let S=m;for(;S;)T.unshift(S.record),S=S.parent;return{name:w,path:_,params:y,matched:T,meta:Jp(T)}}e.forEach(f=>i(f));function u(){n.length=0,s.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:r}}function Ma(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function Na(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:qp(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function qp(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function $a(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Jp(e){return e.reduce((t,n)=>ne(t,n.meta),{})}function La(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function Kp(e,t){let n=0,s=t.length;for(;n!==s;){const i=n+s>>1;qc(e,t[i])<0?s=i:n=i+1}const r=zp(e);return r&&(s=t.lastIndexOf(r,s-1)),s}function zp(e){let t=e;for(;t=t.parent;)if(Jc(t)&&qc(e,t)===0)return t}function Jc({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Xp(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(Lc," "),o=i.indexOf("="),a=Ss(o<0?i:i.slice(0,o)),l=o<0?null:Ss(i.slice(o+1));if(a in t){let c=t[a];ut(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function Da(e){let t="";for(let n in e){const s=e[n];if(n=mp(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(ut(s)?s.map(i=>i&&Fi(i)):[s&&Fi(s)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function Gp(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=ut(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return t}const Qp=Symbol(""),Ba=Symbol(""),wo=Symbol(""),Kc=Symbol(""),Ni=Symbol("");function Xn(){let e=[];function t(s){return e.push(s),()=>{const r=e.indexOf(s);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function qt(e,t,n,s,r,i=o=>o()){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const c=h=>{h===!1?l(Bn(4,{from:n,to:t})):h instanceof Error?l(h):Np(h)?l(Bn(2,{from:t,to:h})):(o&&s.enterCallbacks[r]===o&&typeof h=="function"&&o.push(h),a())},u=i(()=>e.call(s&&s.instances[r],t,n,c));let f=Promise.resolve(u);e.length<3&&(f=f.then(c)),f.catch(h=>l(h))})}function li(e,t,n,s,r=i=>i()){const i=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(Nc(l)){const u=(l.__vccOpts||l)[t];u&&i.push(qt(u,n,s,o,a,r))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=rp(u)?u.default:u;o.mods[a]=u,o.components[a]=f;const m=(f.__vccOpts||f)[t];return m&&qt(m,n,s,o,a,r)()}))}}return i}function Ua(e){const t=Nt(wo),n=Nt(Kc),s=at(()=>{const l=On(e.to);return t.resolve(l)}),r=at(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],f=n.matched;if(!u||!f.length)return-1;const h=f.findIndex(Dn.bind(null,u));if(h>-1)return h;const m=ja(l[c-2]);return c>1&&ja(u)===m&&f[f.length-1].path!==m?f.findIndex(Dn.bind(null,l[c-2])):h}),i=at(()=>r.value>-1&&nm(n.params,s.value.params)),o=at(()=>r.value>-1&&r.value===n.matched.length-1&&jc(n.params,s.value.params));function a(l={}){if(tm(l)){const c=t[On(e.replace)?"replace":"push"](On(e.to)).catch(us);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:at(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}function Yp(e){return e.length===1?e[0]:e}const Zp=rc({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ua,setup(e,{slots:t}){const n=Cr(Ua(e)),{options:s}=Nt(wo),r=at(()=>({[Ha(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Ha(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&Yp(t.default(n));return e.custom?i:Fc("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),em=Zp;function tm(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function nm(e,t){for(const n in t){const s=t[n],r=e[n];if(typeof s=="string"){if(s!==r)return!1}else if(!ut(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function ja(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ha=(e,t,n)=>e??t??n,sm=rc({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=Nt(Ni),r=at(()=>e.route||s.value),i=Nt(Ba,0),o=at(()=>{let c=On(i);const{matched:u}=r.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),a=at(()=>r.value.matched[o.value]);zs(Ba,at(()=>o.value+1)),zs(Qp,a),zs(Ni,r);const l=fd();return Xs(()=>[l.value,a.value,e.name],([c,u,f],[h,m,y])=>{u&&(u.instances[f]=c,m&&m!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=m.leaveGuards),u.updateGuards.size||(u.updateGuards=m.updateGuards))),c&&u&&(!m||!Dn(u,m)||!h)&&(u.enterCallbacks[f]||[]).forEach(_=>_(c))},{flush:"post"}),()=>{const c=r.value,u=e.name,f=a.value,h=f&&f.components[u];if(!h)return Va(n.default,{Component:h,route:c});const m=f.props[u],y=m?m===!0?c.params:typeof m=="function"?m(c):m:null,w=Fc(h,ne({},y,t,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(f.instances[u]=null)},ref:l}));return Va(n.default,{Component:w,route:c})||w}}});function Va(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const rm=sm;function im(e){const t=Wp(e.routes,e),n=e.parseQuery||Xp,s=e.stringifyQuery||Da,r=e.history,i=Xn(),o=Xn(),a=Xn(),l=dd(Bt);let c=Bt;En&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=oi.bind(null,E=>""+E),f=oi.bind(null,yp),h=oi.bind(null,Ss);function m(E,$){let F,B;return Vc(E)?(F=t.getRecordMatcher(E),B=$):B=E,t.addRoute(B,F)}function y(E){const $=t.getRecordMatcher(E);$&&t.removeRoute($)}function _(){return t.getRoutes().map(E=>E.record)}function w(E){return!!t.getRecordMatcher(E)}function T(E,$){if($=ne({},$||l.value),typeof E=="string"){const g=ai(n,E,$.path),x=t.resolve({path:g.path},$),A=r.createHref(g.fullPath);return ne(g,x,{params:h(x.params),hash:Ss(g.hash),redirectedFrom:void 0,href:A})}let F;if(E.path!=null)F=ne({},E,{path:ai(n,E.path,$.path).path});else{const g=ne({},E.params);for(const x in g)g[x]==null&&delete g[x];F=ne({},E,{params:f(g)}),$.params=f($.params)}const B=t.resolve(F,$),ue=E.hash||"";B.params=u(h(B.params));const d=bp(s,ne({},E,{hash:pp(ue),path:B.path})),p=r.createHref(d);return ne({fullPath:d,hash:ue,query:s===Da?Gp(E.query):E.query||{}},B,{redirectedFrom:void 0,href:p})}function S(E){return typeof E=="string"?ai(n,E,l.value.path):ne({},E)}function C(E,$){if(c!==E)return Bn(8,{from:$,to:E})}function v(E){return N(E)}function L(E){return v(ne(S(E),{replace:!0}))}function D(E){const $=E.matched[E.matched.length-1];if($&&$.redirect){const{redirect:F}=$;let B=typeof F=="function"?F(E):F;return typeof B=="string"&&(B=B.includes("?")||B.includes("#")?B=S(B):{path:B},B.params={}),ne({query:E.query,hash:E.hash,params:B.path!=null?{}:E.params},B)}}function N(E,$){const F=c=T(E),B=l.value,ue=E.state,d=E.force,p=E.replace===!0,g=D(F);if(g)return N(ne(S(g),{state:typeof g=="object"?ne({},ue,g.state):ue,force:d,replace:p}),$||F);const x=F;x.redirectedFrom=$;let A;return!d&&Sp(s,B,F)&&(A=Bn(16,{to:x,from:B}),dt(B,B,!0,!1)),(A?Promise.resolve(A):Z(x,B)).catch(R=>Tt(R)?Tt(R,2)?R:Dt(R):te(R,x,B)).then(R=>{if(R){if(Tt(R,2))return N(ne({replace:p},S(R.to),{state:typeof R.to=="object"?ne({},ue,R.to.state):ue,force:d}),$||x)}else R=Le(x,B,!0,p,ue);return G(x,B,R),R})}function ae(E,$){const F=C(E,$);return F?Promise.reject(F):Promise.resolve()}function ee(E){const $=gn.values().next().value;return $&&typeof $.runWithContext=="function"?$.runWithContext(E):E()}function Z(E,$){let F;const[B,ue,d]=om(E,$);F=li(B.reverse(),"beforeRouteLeave",E,$);for(const g of B)g.leaveGuards.forEach(x=>{F.push(qt(x,E,$))});const p=ae.bind(null,E,$);return F.push(p),tt(F).then(()=>{F=[];for(const g of i.list())F.push(qt(g,E,$));return F.push(p),tt(F)}).then(()=>{F=li(ue,"beforeRouteUpdate",E,$);for(const g of ue)g.updateGuards.forEach(x=>{F.push(qt(x,E,$))});return F.push(p),tt(F)}).then(()=>{F=[];for(const g of d)if(g.beforeEnter)if(ut(g.beforeEnter))for(const x of g.beforeEnter)F.push(qt(x,E,$));else F.push(qt(g.beforeEnter,E,$));return F.push(p),tt(F)}).then(()=>(E.matched.forEach(g=>g.enterCallbacks={}),F=li(d,"beforeRouteEnter",E,$,ee),F.push(p),tt(F))).then(()=>{F=[];for(const g of o.list())F.push(qt(g,E,$));return F.push(p),tt(F)}).catch(g=>Tt(g,8)?g:Promise.reject(g))}function G(E,$,F){a.list().forEach(B=>ee(()=>B(E,$,F)))}function Le(E,$,F,B,ue){const d=C(E,$);if(d)return d;const p=$===Bt,g=En?history.state:{};F&&(B||p?r.replace(E.fullPath,ne({scroll:p&&g&&g.scroll},ue)):r.push(E.fullPath,ue)),l.value=E,dt(E,$,F,p),Dt()}let De;function en(){De||(De=r.listen((E,$,F)=>{if(!Ns.listening)return;const B=T(E),ue=D(B);if(ue){N(ne(ue,{replace:!0,force:!0}),B).catch(us);return}c=B;const d=l.value;En&&Tp(Ta(d.fullPath,F.delta),Ir()),Z(B,d).catch(p=>Tt(p,12)?p:Tt(p,2)?(N(ne(S(p.to),{force:!0}),B).then(g=>{Tt(g,20)&&!F.delta&&F.type===xs.pop&&r.go(-1,!1)}).catch(us),Promise.reject()):(F.delta&&r.go(-F.delta,!1),te(p,B,d))).then(p=>{p=p||Le(B,d,!1),p&&(F.delta&&!Tt(p,8)?r.go(-F.delta,!1):F.type===xs.pop&&Tt(p,20)&&r.go(-1,!1)),G(B,d,p)}).catch(us)}))}let At=Xn(),Se=Xn(),le;function te(E,$,F){Dt(E);const B=Se.list();return B.length?B.forEach(ue=>ue(E,$,F)):console.error(E),Promise.reject(E)}function Ct(){return le&&l.value!==Bt?Promise.resolve():new Promise((E,$)=>{At.add([E,$])})}function Dt(E){return le||(le=!E,en(),At.list().forEach(([$,F])=>E?F(E):$()),At.reset()),E}function dt(E,$,F,B){const{scrollBehavior:ue}=e;if(!En||!ue)return Promise.resolve();const d=!F&&Op(Ta(E.fullPath,0))||(B||!F)&&history.state&&history.state.scroll||null;return Zl().then(()=>ue(E,$,d)).then(p=>p&&Pp(p)).catch(p=>te(p,E,$))}const Be=E=>r.go(E);let mn;const gn=new Set,Ns={currentRoute:l,listening:!0,addRoute:m,removeRoute:y,clearRoutes:t.clearRoutes,hasRoute:w,getRoutes:_,resolve:T,options:e,push:v,replace:L,go:Be,back:()=>Be(-1),forward:()=>Be(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:Se.add,isReady:Ct,install(E){const $=this;E.component("RouterLink",em),E.component("RouterView",rm),E.config.globalProperties.$router=$,Object.defineProperty(E.config.globalProperties,"$route",{enumerable:!0,get:()=>On(l)}),En&&!mn&&l.value===Bt&&(mn=!0,v(r.location).catch(ue=>{}));const F={};for(const ue in Bt)Object.defineProperty(F,ue,{get:()=>l.value[ue],enumerable:!0});E.provide(wo,$),E.provide(Kc,zl(F)),E.provide(Ni,l);const B=E.unmount;gn.add(E),E.unmount=function(){gn.delete(E),gn.size<1&&(c=Bt,De&&De(),De=null,l.value=Bt,mn=!1,le=!1),B()}}};function tt(E){return E.reduce(($,F)=>$.then(()=>ee(F)),Promise.resolve())}return Ns}function om(e,t){const n=[],s=[],r=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(c=>Dn(c,a))?s.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(c=>Dn(c,l))||r.push(l))}return[n,s,r]}const am={props:{recentTracks:Array,collapsed:Boolean,darkMode:Boolean}},lm={key:0,class:"logo"},cm={key:1,class:"recent-tracks"},um=["onClick"],fm={class:"recent-art-wrapper"},dm=["src"],hm={key:1,class:"recent-art-placeholder"},pm={class:"recent-info"},mm={class:"recent-title"},gm={class:"recent-artist"};function ym(e,t,n,s,r,i){return fe(),ye("div",{class:Ve(["sidebar",{collapsed:n.collapsed,darkMode:n.darkMode}])},[n.collapsed?ws("",!0):(fe(),ye("div",lm," SoundScape")),n.recentTracks.length&&!n.collapsed?(fe(),ye("div",cm,[t[1]||(t[1]=J("h3",null,"RECENT TRACKS",-1)),(fe(!0),ye(He,null,cc(n.recentTracks,(o,a)=>{var l,c,u,f;return fe(),ye("div",{key:a,class:Ve(["recent-track",{loading:o.loading}]),onClick:h=>e.$emit("playRecentTrack",o)},[J("div",fm,[((c=(l=o.album)==null?void 0:l.images)==null?void 0:c.length)>=3?(fe(),ye("img",{key:0,src:o.album.images[2].url,class:"recent-art"},null,8,dm)):(fe(),ye("div",hm,t[0]||(t[0]=[J("i",{class:"fas fa-music"},null,-1)])))]),J("div",pm,[J("div",mm,Ft(o.name||"Unknown Track"),1),J("div",gm,Ft(((f=(u=o.artists)==null?void 0:u[0])==null?void 0:f.name)||"Unknown Artist"),1)])],10,um)}),128))])):ws("",!0)],2)}const _m=pn(am,[["render",ym]]),wm={props:{isPlaying:Boolean,gradientStart:String,gradientEnd:String,audioLoading:Boolean,darkMode:Boolean}},bm=["disabled"];function Sm(e,t,n,s,r,i){return fe(),ye("div",{class:Ve(["audio-controls",{darkMode:n.darkMode}])},[J("button",{class:"control-button prev",onClick:t[0]||(t[0]=o=>e.$emit("prevTrack"))},t[3]||(t[3]=[J("i",{class:"fas fa-step-backward"},null,-1)])),J("button",{class:"control-button play",onClick:t[1]||(t[1]=o=>e.$emit("togglePlay")),style:Xt({background:`linear-gradient(135deg, ${n.gradientStart}, ${n.gradientEnd})`}),disabled:n.audioLoading},[J("i",{class:Ve(n.isPlaying?"fas fa-pause":"fas fa-play")},null,2)],12,bm),J("button",{class:"control-button next",onClick:t[2]||(t[2]=o=>e.$emit("nextTrack"))},t[4]||(t[4]=[J("i",{class:"fas fa-step-forward"},null,-1)]))],2)}const xm=pn(wm,[["render",Sm],["__scopeId","data-v-24bf91e5"]]),Em={components:{AudioControls:xm},props:{track:Object,isPlaying:Boolean,rotationAngle:Number,gradientStart:String,gradientEnd:String,audioLoading:Boolean,audioError:String,progressPercentage:Number,currentTimeFormatted:String,durationFormatted:String,darkMode:Boolean}},vm={class:"track-column"},Rm={class:"track-info"},Am=["src","alt"],Cm={key:1,class:"album-art-placeholder"},Pm={class:"track-title"},Tm={class:"artist"},Om={class:"progress-container"},km={class:"progress-time left"},Im={class:"progress-time right"},Fm={key:0,class:"audio-state"},Mm={key:1,class:"audio-state error"};function Nm(e,t,n,s,r,i){var a,l,c;const o=as("AudioControls");return fe(),ye("div",{class:Ve(["now-playing",{darkMode:n.darkMode}])},[J("div",vm,[J("div",Rm,[J("div",{class:Ve(["album-art-container",{rotating:n.isPlaying}]),style:Xt({transform:`rotate(${n.rotationAngle}deg)`})},[(l=(a=n.track.album)==null?void 0:a.images)!=null&&l.length?(fe(),ye("img",{key:0,src:n.track.album.images[0].url,alt:n.track.name,class:"album-art"},null,8,Am)):(fe(),ye("div",Cm,t[4]||(t[4]=[J("i",{class:"fas fa-music"},null,-1)])))],6),J("h1",Pm,Ft(n.track.name),1),J("p",Tm,Ft(((c=n.track.artists)==null?void 0:c.map(u=>u.name).join(", "))||"Unknown Artist"),1),Ee(o,{isPlaying:n.isPlaying,gradientStart:n.gradientStart,gradientEnd:n.gradientEnd,audioLoading:n.audioLoading,onTogglePlay:t[0]||(t[0]=u=>e.$emit("togglePlay")),onPrevTrack:t[1]||(t[1]=u=>e.$emit("prevTrack")),onNextTrack:t[2]||(t[2]=u=>e.$emit("nextTrack"))},null,8,["isPlaying","gradientStart","gradientEnd","audioLoading"]),J("div",Om,[J("div",km,Ft(n.currentTimeFormatted),1),J("div",{class:"progress-bar",onClick:t[3]||(t[3]=u=>e.$emit("seekAudio",u))},[J("div",{class:"progress",style:Xt({width:n.progressPercentage+"%"})},null,4)]),J("div",Im,Ft(n.durationFormatted),1)]),n.audioLoading?(fe(),ye("div",Fm,t[5]||(t[5]=[J("i",{class:"fas fa-spinner fa-spin"},null,-1),hr(" Loading audio... ")]))):ws("",!0),n.audioError?(fe(),ye("div",Mm,[t[6]||(t[6]=J("i",{class:"fas fa-exclamation-triangle"},null,-1)),hr(" "+Ft(n.audioError),1)])):ws("",!0)])])],2)}const $m=pn(Em,[["render",Nm],["__scopeId","data-v-8a04c7dc"]]),Lm={props:{valence:Number,darkMode:Boolean}};function Dm(e,t,n,s,r,i){return fe(),ye("div",{class:Ve(["valence-display",{darkMode:n.darkMode}])}," Valence: "+Ft(n.valence.toFixed(2)),3)}const Bm=pn(Lm,[["render",Dm],["__scopeId","data-v-e25772e8"]]);function zc(e,t){return function(){return e.apply(t,arguments)}}const{toString:Um}=Object.prototype,{getPrototypeOf:bo}=Object,Fr=(e=>t=>{const n=Um.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ft=e=>(e=e.toLowerCase(),t=>Fr(t)===e),Mr=e=>t=>typeof t===e,{isArray:jn}=Array,Es=Mr("undefined");function jm(e){return e!==null&&!Es(e)&&e.constructor!==null&&!Es(e.constructor)&&et(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Xc=ft("ArrayBuffer");function Hm(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Xc(e.buffer),t}const Vm=Mr("string"),et=Mr("function"),Gc=Mr("number"),Nr=e=>e!==null&&typeof e=="object",Wm=e=>e===!0||e===!1,Ys=e=>{if(Fr(e)!=="object")return!1;const t=bo(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},qm=ft("Date"),Jm=ft("File"),Km=ft("Blob"),zm=ft("FileList"),Xm=e=>Nr(e)&&et(e.pipe),Gm=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||et(e.append)&&((t=Fr(e))==="formdata"||t==="object"&&et(e.toString)&&e.toString()==="[object FormData]"))},Qm=ft("URLSearchParams"),[Ym,Zm,eg,tg]=["ReadableStream","Request","Response","Headers"].map(ft),ng=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ps(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,r;if(typeof e!="object"&&(e=[e]),jn(e))for(s=0,r=e.length;s<r;s++)t.call(null,e[s],s,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(s=0;s<o;s++)a=i[s],t.call(null,e[a],a,e)}}function Qc(e,t){t=t.toLowerCase();const n=Object.keys(e);let s=n.length,r;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const an=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Yc=e=>!Es(e)&&e!==an;function $i(){const{caseless:e}=Yc(this)&&this||{},t={},n=(s,r)=>{const i=e&&Qc(t,r)||r;Ys(t[i])&&Ys(s)?t[i]=$i(t[i],s):Ys(s)?t[i]=$i({},s):jn(s)?t[i]=s.slice():t[i]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&Ps(arguments[s],n);return t}const sg=(e,t,n,{allOwnKeys:s}={})=>(Ps(t,(r,i)=>{n&&et(r)?e[i]=zc(r,n):e[i]=r},{allOwnKeys:s}),e),rg=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ig=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},og=(e,t,n,s)=>{let r,i,o;const a={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),i=r.length;i-- >0;)o=r[i],(!s||s(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&bo(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},ag=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},lg=e=>{if(!e)return null;if(jn(e))return e;let t=e.length;if(!Gc(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},cg=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&bo(Uint8Array)),ug=(e,t)=>{const s=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=s.next())&&!r.done;){const i=r.value;t.call(e,i[0],i[1])}},fg=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},dg=ft("HTMLFormElement"),hg=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),Wa=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),pg=ft("RegExp"),Zc=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};Ps(n,(r,i)=>{let o;(o=t(r,i,e))!==!1&&(s[i]=o||r)}),Object.defineProperties(e,s)},mg=e=>{Zc(e,(t,n)=>{if(et(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(et(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},gg=(e,t)=>{const n={},s=r=>{r.forEach(i=>{n[i]=!0})};return jn(e)?s(e):s(String(e).split(t)),n},yg=()=>{},_g=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function wg(e){return!!(e&&et(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const bg=e=>{const t=new Array(10),n=(s,r)=>{if(Nr(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[r]=s;const i=jn(s)?[]:{};return Ps(s,(o,a)=>{const l=n(o,r+1);!Es(l)&&(i[a]=l)}),t[r]=void 0,i}}return s};return n(e,0)},Sg=ft("AsyncFunction"),xg=e=>e&&(Nr(e)||et(e))&&et(e.then)&&et(e.catch),eu=((e,t)=>e?setImmediate:t?((n,s)=>(an.addEventListener("message",({source:r,data:i})=>{r===an&&i===n&&s.length&&s.shift()()},!1),r=>{s.push(r),an.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",et(an.postMessage)),Eg=typeof queueMicrotask<"u"?queueMicrotask.bind(an):typeof process<"u"&&process.nextTick||eu,b={isArray:jn,isArrayBuffer:Xc,isBuffer:jm,isFormData:Gm,isArrayBufferView:Hm,isString:Vm,isNumber:Gc,isBoolean:Wm,isObject:Nr,isPlainObject:Ys,isReadableStream:Ym,isRequest:Zm,isResponse:eg,isHeaders:tg,isUndefined:Es,isDate:qm,isFile:Jm,isBlob:Km,isRegExp:pg,isFunction:et,isStream:Xm,isURLSearchParams:Qm,isTypedArray:cg,isFileList:zm,forEach:Ps,merge:$i,extend:sg,trim:ng,stripBOM:rg,inherits:ig,toFlatObject:og,kindOf:Fr,kindOfTest:ft,endsWith:ag,toArray:lg,forEachEntry:ug,matchAll:fg,isHTMLForm:dg,hasOwnProperty:Wa,hasOwnProp:Wa,reduceDescriptors:Zc,freezeMethods:mg,toObjectSet:gg,toCamelCase:hg,noop:yg,toFiniteNumber:_g,findKey:Qc,global:an,isContextDefined:Yc,isSpecCompliantForm:wg,toJSONObject:bg,isAsyncFn:Sg,isThenable:xg,setImmediate:eu,asap:Eg};function K(e,t,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}b.inherits(K,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:b.toJSONObject(this.config),code:this.code,status:this.status}}});const tu=K.prototype,nu={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{nu[e]={value:e}});Object.defineProperties(K,nu);Object.defineProperty(tu,"isAxiosError",{value:!0});K.from=(e,t,n,s,r,i)=>{const o=Object.create(tu);return b.toFlatObject(e,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),K.call(o,e.message,t,n,s,r),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const vg=null;function Li(e){return b.isPlainObject(e)||b.isArray(e)}function su(e){return b.endsWith(e,"[]")?e.slice(0,-2):e}function qa(e,t,n){return e?e.concat(t).map(function(r,i){return r=su(r),!n&&i?"["+r+"]":r}).join(n?".":""):t}function Rg(e){return b.isArray(e)&&!e.some(Li)}const Ag=b.toFlatObject(b,{},null,function(t){return/^is[A-Z]/.test(t)});function $r(e,t,n){if(!b.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=b.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,w){return!b.isUndefined(w[_])});const s=n.metaTokens,r=n.visitor||u,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&b.isSpecCompliantForm(t);if(!b.isFunction(r))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(b.isDate(y))return y.toISOString();if(!l&&b.isBlob(y))throw new K("Blob is not supported. Use a Buffer instead.");return b.isArrayBuffer(y)||b.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function u(y,_,w){let T=y;if(y&&!w&&typeof y=="object"){if(b.endsWith(_,"{}"))_=s?_:_.slice(0,-2),y=JSON.stringify(y);else if(b.isArray(y)&&Rg(y)||(b.isFileList(y)||b.endsWith(_,"[]"))&&(T=b.toArray(y)))return _=su(_),T.forEach(function(C,v){!(b.isUndefined(C)||C===null)&&t.append(o===!0?qa([_],v,i):o===null?_:_+"[]",c(C))}),!1}return Li(y)?!0:(t.append(qa(w,_,i),c(y)),!1)}const f=[],h=Object.assign(Ag,{defaultVisitor:u,convertValue:c,isVisitable:Li});function m(y,_){if(!b.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+_.join("."));f.push(y),b.forEach(y,function(T,S){(!(b.isUndefined(T)||T===null)&&r.call(t,T,b.isString(S)?S.trim():S,_,h))===!0&&m(T,_?_.concat(S):[S])}),f.pop()}}if(!b.isObject(e))throw new TypeError("data must be an object");return m(e),t}function Ja(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function So(e,t){this._pairs=[],e&&$r(e,this,t)}const ru=So.prototype;ru.append=function(t,n){this._pairs.push([t,n])};ru.toString=function(t){const n=t?function(s){return t.call(this,s,Ja)}:Ja;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function Cg(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function iu(e,t,n){if(!t)return e;const s=n&&n.encode||Cg;b.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let i;if(r?i=r(t,n):i=b.isURLSearchParams(t)?t.toString():new So(t,n).toString(s),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Ka{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){b.forEach(this.handlers,function(s){s!==null&&t(s)})}}const ou={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Pg=typeof URLSearchParams<"u"?URLSearchParams:So,Tg=typeof FormData<"u"?FormData:null,Og=typeof Blob<"u"?Blob:null,kg={isBrowser:!0,classes:{URLSearchParams:Pg,FormData:Tg,Blob:Og},protocols:["http","https","file","blob","url","data"]},xo=typeof window<"u"&&typeof document<"u",Di=typeof navigator=="object"&&navigator||void 0,Ig=xo&&(!Di||["ReactNative","NativeScript","NS"].indexOf(Di.product)<0),Fg=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Mg=xo&&window.location.href||"http://localhost",Ng=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:xo,hasStandardBrowserEnv:Ig,hasStandardBrowserWebWorkerEnv:Fg,navigator:Di,origin:Mg},Symbol.toStringTag,{value:"Module"})),ke={...Ng,...kg};function $g(e,t){return $r(e,new ke.classes.URLSearchParams,Object.assign({visitor:function(n,s,r,i){return ke.isNode&&b.isBuffer(n)?(this.append(s,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function Lg(e){return b.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Dg(e){const t={},n=Object.keys(e);let s;const r=n.length;let i;for(s=0;s<r;s++)i=n[s],t[i]=e[i];return t}function au(e){function t(n,s,r,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&b.isArray(r)?r.length:o,l?(b.hasOwnProp(r,o)?r[o]=[r[o],s]:r[o]=s,!a):((!r[o]||!b.isObject(r[o]))&&(r[o]=[]),t(n,s,r[o],i)&&b.isArray(r[o])&&(r[o]=Dg(r[o])),!a)}if(b.isFormData(e)&&b.isFunction(e.entries)){const n={};return b.forEachEntry(e,(s,r)=>{t(Lg(s),r,n,0)}),n}return null}function Bg(e,t,n){if(b.isString(e))try{return(t||JSON.parse)(e),b.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const Ts={transitional:ou,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,i=b.isObject(t);if(i&&b.isHTMLForm(t)&&(t=new FormData(t)),b.isFormData(t))return r?JSON.stringify(au(t)):t;if(b.isArrayBuffer(t)||b.isBuffer(t)||b.isStream(t)||b.isFile(t)||b.isBlob(t)||b.isReadableStream(t))return t;if(b.isArrayBufferView(t))return t.buffer;if(b.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return $g(t,this.formSerializer).toString();if((a=b.isFileList(t))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return $r(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||r?(n.setContentType("application/json",!1),Bg(t)):t}],transformResponse:[function(t){const n=this.transitional||Ts.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(b.isResponse(t)||b.isReadableStream(t))return t;if(t&&b.isString(t)&&(s&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?K.from(a,K.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ke.classes.FormData,Blob:ke.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};b.forEach(["delete","get","head","post","put","patch"],e=>{Ts.headers[e]={}});const Ug=b.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jg=e=>{const t={};let n,s,r;return e&&e.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),s=o.substring(r+1).trim(),!(!n||t[n]&&Ug[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},za=Symbol("internals");function Gn(e){return e&&String(e).trim().toLowerCase()}function Zs(e){return e===!1||e==null?e:b.isArray(e)?e.map(Zs):String(e)}function Hg(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const Vg=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ci(e,t,n,s,r){if(b.isFunction(s))return s.call(this,t,n);if(r&&(t=n),!!b.isString(t)){if(b.isString(s))return t.indexOf(s)!==-1;if(b.isRegExp(s))return s.test(t)}}function Wg(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function qg(e,t){const n=b.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(r,i,o){return this[s].call(this,t,r,i,o)},configurable:!0})})}let We=class{constructor(t){t&&this.set(t)}set(t,n,s){const r=this;function i(a,l,c){const u=Gn(l);if(!u)throw new Error("header name must be a non-empty string");const f=b.findKey(r,u);(!f||r[f]===void 0||c===!0||c===void 0&&r[f]!==!1)&&(r[f||l]=Zs(a))}const o=(a,l)=>b.forEach(a,(c,u)=>i(c,u,l));if(b.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(b.isString(t)&&(t=t.trim())&&!Vg(t))o(jg(t),n);else if(b.isHeaders(t))for(const[a,l]of t.entries())i(l,a,s);else t!=null&&i(n,t,s);return this}get(t,n){if(t=Gn(t),t){const s=b.findKey(this,t);if(s){const r=this[s];if(!n)return r;if(n===!0)return Hg(r);if(b.isFunction(n))return n.call(this,r,s);if(b.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Gn(t),t){const s=b.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||ci(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let r=!1;function i(o){if(o=Gn(o),o){const a=b.findKey(s,o);a&&(!n||ci(s,s[a],a,n))&&(delete s[a],r=!0)}}return b.isArray(t)?t.forEach(i):i(t),r}clear(t){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const i=n[s];(!t||ci(this,this[i],i,t,!0))&&(delete this[i],r=!0)}return r}normalize(t){const n=this,s={};return b.forEach(this,(r,i)=>{const o=b.findKey(s,i);if(o){n[o]=Zs(r),delete n[i];return}const a=t?Wg(i):String(i).trim();a!==i&&delete n[i],n[a]=Zs(r),s[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return b.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=t&&b.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(r=>s.set(r)),s}static accessor(t){const s=(this[za]=this[za]={accessors:{}}).accessors,r=this.prototype;function i(o){const a=Gn(o);s[a]||(qg(r,o),s[a]=!0)}return b.isArray(t)?t.forEach(i):i(t),this}};We.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);b.reduceDescriptors(We.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});b.freezeMethods(We);function ui(e,t){const n=this||Ts,s=t||n,r=We.from(s.headers);let i=s.data;return b.forEach(e,function(a){i=a.call(n,i,r.normalize(),t?t.status:void 0)}),r.normalize(),i}function lu(e){return!!(e&&e.__CANCEL__)}function Hn(e,t,n){K.call(this,e??"canceled",K.ERR_CANCELED,t,n),this.name="CanceledError"}b.inherits(Hn,K,{__CANCEL__:!0});function cu(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new K("Request failed with status code "+n.status,[K.ERR_BAD_REQUEST,K.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Jg(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Kg(e,t){e=e||10;const n=new Array(e),s=new Array(e);let r=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=s[i];o||(o=c),n[r]=l,s[r]=c;let f=i,h=0;for(;f!==r;)h+=n[f++],f=f%e;if(r=(r+1)%e,r===i&&(i=(i+1)%e),c-o<t)return;const m=u&&c-u;return m?Math.round(h*1e3/m):void 0}}function zg(e,t){let n=0,s=1e3/t,r,i;const o=(c,u=Date.now())=>{n=u,r=null,i&&(clearTimeout(i),i=null),e.apply(null,c)};return[(...c)=>{const u=Date.now(),f=u-n;f>=s?o(c,u):(r=c,i||(i=setTimeout(()=>{i=null,o(r)},s-f)))},()=>r&&o(r)]}const mr=(e,t,n=3)=>{let s=0;const r=Kg(50,250);return zg(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-s,c=r(l),u=o<=a;s=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(f)},n)},Xa=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},Ga=e=>(...t)=>b.asap(()=>e(...t)),Xg=ke.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ke.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ke.origin),ke.navigator&&/(msie|trident)/i.test(ke.navigator.userAgent)):()=>!0,Gg=ke.hasStandardBrowserEnv?{write(e,t,n,s,r,i){const o=[e+"="+encodeURIComponent(t)];b.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),b.isString(s)&&o.push("path="+s),b.isString(r)&&o.push("domain="+r),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Qg(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Yg(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function uu(e,t,n){let s=!Qg(t);return e&&(s||n==!1)?Yg(e,t):t}const Qa=e=>e instanceof We?{...e}:e;function dn(e,t){t=t||{};const n={};function s(c,u,f,h){return b.isPlainObject(c)&&b.isPlainObject(u)?b.merge.call({caseless:h},c,u):b.isPlainObject(u)?b.merge({},u):b.isArray(u)?u.slice():u}function r(c,u,f,h){if(b.isUndefined(u)){if(!b.isUndefined(c))return s(void 0,c,f,h)}else return s(c,u,f,h)}function i(c,u){if(!b.isUndefined(u))return s(void 0,u)}function o(c,u){if(b.isUndefined(u)){if(!b.isUndefined(c))return s(void 0,c)}else return s(void 0,u)}function a(c,u,f){if(f in t)return s(c,u);if(f in e)return s(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,f)=>r(Qa(c),Qa(u),f,!0)};return b.forEach(Object.keys(Object.assign({},e,t)),function(u){const f=l[u]||r,h=f(e[u],t[u],u);b.isUndefined(h)&&f!==a||(n[u]=h)}),n}const fu=e=>{const t=dn({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:i,headers:o,auth:a}=t;t.headers=o=We.from(o),t.url=iu(uu(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(b.isFormData(n)){if(ke.hasStandardBrowserEnv||ke.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(ke.hasStandardBrowserEnv&&(s&&b.isFunction(s)&&(s=s(t)),s||s!==!1&&Xg(t.url))){const c=r&&i&&Gg.read(i);c&&o.set(r,c)}return t},Zg=typeof XMLHttpRequest<"u",ey=Zg&&function(e){return new Promise(function(n,s){const r=fu(e);let i=r.data;const o=We.from(r.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=r,u,f,h,m,y;function _(){m&&m(),y&&y(),r.cancelToken&&r.cancelToken.unsubscribe(u),r.signal&&r.signal.removeEventListener("abort",u)}let w=new XMLHttpRequest;w.open(r.method.toUpperCase(),r.url,!0),w.timeout=r.timeout;function T(){if(!w)return;const C=We.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),L={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:C,config:e,request:w};cu(function(N){n(N),_()},function(N){s(N),_()},L),w=null}"onloadend"in w?w.onloadend=T:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(T)},w.onabort=function(){w&&(s(new K("Request aborted",K.ECONNABORTED,e,w)),w=null)},w.onerror=function(){s(new K("Network Error",K.ERR_NETWORK,e,w)),w=null},w.ontimeout=function(){let v=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const L=r.transitional||ou;r.timeoutErrorMessage&&(v=r.timeoutErrorMessage),s(new K(v,L.clarifyTimeoutError?K.ETIMEDOUT:K.ECONNABORTED,e,w)),w=null},i===void 0&&o.setContentType(null),"setRequestHeader"in w&&b.forEach(o.toJSON(),function(v,L){w.setRequestHeader(L,v)}),b.isUndefined(r.withCredentials)||(w.withCredentials=!!r.withCredentials),a&&a!=="json"&&(w.responseType=r.responseType),c&&([h,y]=mr(c,!0),w.addEventListener("progress",h)),l&&w.upload&&([f,m]=mr(l),w.upload.addEventListener("progress",f),w.upload.addEventListener("loadend",m)),(r.cancelToken||r.signal)&&(u=C=>{w&&(s(!C||C.type?new Hn(null,e,w):C),w.abort(),w=null)},r.cancelToken&&r.cancelToken.subscribe(u),r.signal&&(r.signal.aborted?u():r.signal.addEventListener("abort",u)));const S=Jg(r.url);if(S&&ke.protocols.indexOf(S)===-1){s(new K("Unsupported protocol "+S+":",K.ERR_BAD_REQUEST,e));return}w.send(i||null)})},ty=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,r;const i=function(c){if(!r){r=!0,a();const u=c instanceof Error?c:this.reason;s.abort(u instanceof K?u:new Hn(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new K(`timeout ${t} of ms exceeded`,K.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:l}=s;return l.unsubscribe=()=>b.asap(a),l}},ny=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let s=0,r;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},sy=async function*(e,t){for await(const n of ry(e))yield*ny(n,t)},ry=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},Ya=(e,t,n,s)=>{const r=sy(e,t);let i=0,o,a=l=>{o||(o=!0,s&&s(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await r.next();if(c){a(),l.close();return}let f=u.byteLength;if(n){let h=i+=f;n(h)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),r.return()}},{highWaterMark:2})},Lr=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",du=Lr&&typeof ReadableStream=="function",iy=Lr&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),hu=(e,...t)=>{try{return!!e(...t)}catch{return!1}},oy=du&&hu(()=>{let e=!1;const t=new Request(ke.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Za=64*1024,Bi=du&&hu(()=>b.isReadableStream(new Response("").body)),gr={stream:Bi&&(e=>e.body)};Lr&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!gr[t]&&(gr[t]=b.isFunction(e[t])?n=>n[t]():(n,s)=>{throw new K(`Response type '${t}' is not supported`,K.ERR_NOT_SUPPORT,s)})})})(new Response);const ay=async e=>{if(e==null)return 0;if(b.isBlob(e))return e.size;if(b.isSpecCompliantForm(e))return(await new Request(ke.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(b.isArrayBufferView(e)||b.isArrayBuffer(e))return e.byteLength;if(b.isURLSearchParams(e)&&(e=e+""),b.isString(e))return(await iy(e)).byteLength},ly=async(e,t)=>{const n=b.toFiniteNumber(e.getContentLength());return n??ay(t)},cy=Lr&&(async e=>{let{url:t,method:n,data:s,signal:r,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:f="same-origin",fetchOptions:h}=fu(e);c=c?(c+"").toLowerCase():"text";let m=ty([r,i&&i.toAbortSignal()],o),y;const _=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let w;try{if(l&&oy&&n!=="get"&&n!=="head"&&(w=await ly(u,s))!==0){let L=new Request(t,{method:"POST",body:s,duplex:"half"}),D;if(b.isFormData(s)&&(D=L.headers.get("content-type"))&&u.setContentType(D),L.body){const[N,ae]=Xa(w,mr(Ga(l)));s=Ya(L.body,Za,N,ae)}}b.isString(f)||(f=f?"include":"omit");const T="credentials"in Request.prototype;y=new Request(t,{...h,signal:m,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:s,duplex:"half",credentials:T?f:void 0});let S=await fetch(y);const C=Bi&&(c==="stream"||c==="response");if(Bi&&(a||C&&_)){const L={};["status","statusText","headers"].forEach(ee=>{L[ee]=S[ee]});const D=b.toFiniteNumber(S.headers.get("content-length")),[N,ae]=a&&Xa(D,mr(Ga(a),!0))||[];S=new Response(Ya(S.body,Za,N,()=>{ae&&ae(),_&&_()}),L)}c=c||"text";let v=await gr[b.findKey(gr,c)||"text"](S,e);return!C&&_&&_(),await new Promise((L,D)=>{cu(L,D,{data:v,headers:We.from(S.headers),status:S.status,statusText:S.statusText,config:e,request:y})})}catch(T){throw _&&_(),T&&T.name==="TypeError"&&/fetch/i.test(T.message)?Object.assign(new K("Network Error",K.ERR_NETWORK,e,y),{cause:T.cause||T}):K.from(T,T&&T.code,e,y)}}),Ui={http:vg,xhr:ey,fetch:cy};b.forEach(Ui,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const el=e=>`- ${e}`,uy=e=>b.isFunction(e)||e===null||e===!1,pu={getAdapter:e=>{e=b.isArray(e)?e:[e];const{length:t}=e;let n,s;const r={};for(let i=0;i<t;i++){n=e[i];let o;if(s=n,!uy(n)&&(s=Ui[(o=String(n)).toLowerCase()],s===void 0))throw new K(`Unknown adapter '${o}'`);if(s)break;r[o||"#"+i]=s}if(!s){const i=Object.entries(r).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(el).join(`
`):" "+el(i[0]):"as no adapter specified";throw new K("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:Ui};function fi(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Hn(null,e)}function tl(e){return fi(e),e.headers=We.from(e.headers),e.data=ui.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),pu.getAdapter(e.adapter||Ts.adapter)(e).then(function(s){return fi(e),s.data=ui.call(e,e.transformResponse,s),s.headers=We.from(s.headers),s},function(s){return lu(s)||(fi(e),s&&s.response&&(s.response.data=ui.call(e,e.transformResponse,s.response),s.response.headers=We.from(s.response.headers))),Promise.reject(s)})}const mu="1.8.4",Dr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Dr[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const nl={};Dr.transitional=function(t,n,s){function r(i,o){return"[Axios v"+mu+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,a)=>{if(t===!1)throw new K(r(o," has been removed"+(n?" in "+n:"")),K.ERR_DEPRECATED);return n&&!nl[o]&&(nl[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,a):!0}};Dr.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function fy(e,t,n){if(typeof e!="object")throw new K("options must be an object",K.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let r=s.length;for(;r-- >0;){const i=s[r],o=t[i];if(o){const a=e[i],l=a===void 0||o(a,i,e);if(l!==!0)throw new K("option "+i+" must be "+l,K.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new K("Unknown option "+i,K.ERR_BAD_OPTION)}}const er={assertOptions:fy,validators:Dr},yt=er.validators;let un=class{constructor(t){this.defaults=t,this.interceptors={request:new Ka,response:new Ka}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=dn(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:i}=n;s!==void 0&&er.assertOptions(s,{silentJSONParsing:yt.transitional(yt.boolean),forcedJSONParsing:yt.transitional(yt.boolean),clarifyTimeoutError:yt.transitional(yt.boolean)},!1),r!=null&&(b.isFunction(r)?n.paramsSerializer={serialize:r}:er.assertOptions(r,{encode:yt.function,serialize:yt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),er.assertOptions(n,{baseUrl:yt.spelling("baseURL"),withXsrfToken:yt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&b.merge(i.common,i[n.method]);i&&b.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),n.headers=We.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(n)===!1||(l=l&&_.synchronous,a.unshift(_.fulfilled,_.rejected))});const c=[];this.interceptors.response.forEach(function(_){c.push(_.fulfilled,_.rejected)});let u,f=0,h;if(!l){const y=[tl.bind(this),void 0];for(y.unshift.apply(y,a),y.push.apply(y,c),h=y.length,u=Promise.resolve(n);f<h;)u=u.then(y[f++],y[f++]);return u}h=a.length;let m=n;for(f=0;f<h;){const y=a[f++],_=a[f++];try{m=y(m)}catch(w){_.call(this,w);break}}try{u=tl.call(this,m)}catch(y){return Promise.reject(y)}for(f=0,h=c.length;f<h;)u=u.then(c[f++],c[f++]);return u}getUri(t){t=dn(this.defaults,t);const n=uu(t.baseURL,t.url,t.allowAbsoluteUrls);return iu(n,t.params,t.paramsSerializer)}};b.forEach(["delete","get","head","options"],function(t){un.prototype[t]=function(n,s){return this.request(dn(s||{},{method:t,url:n,data:(s||{}).data}))}});b.forEach(["post","put","patch"],function(t){function n(s){return function(i,o,a){return this.request(dn(a||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}un.prototype[t]=n(),un.prototype[t+"Form"]=n(!0)});let dy=class gu{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const s=this;this.promise.then(r=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](r);s._listeners=null}),this.promise.then=r=>{let i;const o=new Promise(a=>{s.subscribe(a),i=a}).then(r);return o.cancel=function(){s.unsubscribe(i)},o},t(function(i,o,a){s.reason||(s.reason=new Hn(i,o,a),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new gu(function(r){t=r}),cancel:t}}};function hy(e){return function(n){return e.apply(null,n)}}function py(e){return b.isObject(e)&&e.isAxiosError===!0}const ji={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ji).forEach(([e,t])=>{ji[t]=e});function yu(e){const t=new un(e),n=zc(un.prototype.request,t);return b.extend(n,un.prototype,t,{allOwnKeys:!0}),b.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return yu(dn(e,r))},n}const oe=yu(Ts);oe.Axios=un;oe.CanceledError=Hn;oe.CancelToken=dy;oe.isCancel=lu;oe.VERSION=mu;oe.toFormData=$r;oe.AxiosError=K;oe.Cancel=oe.CanceledError;oe.all=function(t){return Promise.all(t)};oe.spread=hy;oe.isAxiosError=py;oe.mergeConfig=dn;oe.AxiosHeaders=We;oe.formToJSON=e=>au(b.isHTMLForm(e)?new FormData(e):e);oe.getAdapter=pu.getAdapter;oe.HttpStatusCode=ji;oe.default=oe;const{Axios:L_,AxiosError:D_,CanceledError:B_,isCancel:U_,CancelToken:j_,VERSION:H_,all:V_,Cancel:W_,isAxiosError:q_,spread:J_,toFormData:K_,AxiosHeaders:z_,HttpStatusCode:X_,formToJSON:G_,getAdapter:Q_,mergeConfig:Y_}=oe,Hi="RFC3986",Vi={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},my="RFC1738",gy=Array.isArray,_t=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),di=1024,yy=(e,t,n,s,r)=>{if(e.length===0)return e;let i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(a){return"%26%23"+parseInt(a.slice(2),16)+"%3B"});let o="";for(let a=0;a<i.length;a+=di){const l=i.length>=di?i.slice(a,a+di):i,c=[];for(let u=0;u<l.length;++u){let f=l.charCodeAt(u);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||r===my&&(f===40||f===41)){c[c.length]=l.charAt(u);continue}if(f<128){c[c.length]=_t[f];continue}if(f<2048){c[c.length]=_t[192|f>>6]+_t[128|f&63];continue}if(f<55296||f>=57344){c[c.length]=_t[224|f>>12]+_t[128|f>>6&63]+_t[128|f&63];continue}u+=1,f=65536+((f&1023)<<10|l.charCodeAt(u)&1023),c[c.length]=_t[240|f>>18]+_t[128|f>>12&63]+_t[128|f>>6&63]+_t[128|f&63]}o+=c.join("")}return o};function _y(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function sl(e,t){if(gy(e)){const n=[];for(let s=0;s<e.length;s+=1)n.push(t(e[s]));return n}return t(e)}const wy=Object.prototype.hasOwnProperty,_u={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},bt=Array.isArray,by=Array.prototype.push,wu=function(e,t){by.apply(e,bt(t)?t:[t])},Sy=Date.prototype.toISOString,be={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:yy,encodeValuesOnly:!1,format:Hi,formatter:Vi[Hi],indices:!1,serializeDate(e){return Sy.call(e)},skipNulls:!1,strictNullHandling:!1};function xy(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const hi={};function bu(e,t,n,s,r,i,o,a,l,c,u,f,h,m,y,_,w,T){let S=e,C=T,v=0,L=!1;for(;(C=C.get(hi))!==void 0&&!L;){const Z=C.get(e);if(v+=1,typeof Z<"u"){if(Z===v)throw new RangeError("Cyclic object value");L=!0}typeof C.get(hi)>"u"&&(v=0)}if(typeof c=="function"?S=c(t,S):S instanceof Date?S=h==null?void 0:h(S):n==="comma"&&bt(S)&&(S=sl(S,function(Z){return Z instanceof Date?h==null?void 0:h(Z):Z})),S===null){if(i)return l&&!_?l(t,be.encoder,w,"key",m):t;S=""}if(xy(S)||_y(S)){if(l){const Z=_?t:l(t,be.encoder,w,"key",m);return[(y==null?void 0:y(Z))+"="+(y==null?void 0:y(l(S,be.encoder,w,"value",m)))]}return[(y==null?void 0:y(t))+"="+(y==null?void 0:y(String(S)))]}const D=[];if(typeof S>"u")return D;let N;if(n==="comma"&&bt(S))_&&l&&(S=sl(S,l)),N=[{value:S.length>0?S.join(",")||null:void 0}];else if(bt(c))N=c;else{const Z=Object.keys(S);N=u?Z.sort(u):Z}const ae=a?String(t).replace(/\./g,"%2E"):String(t),ee=s&&bt(S)&&S.length===1?ae+"[]":ae;if(r&&bt(S)&&S.length===0)return ee+"[]";for(let Z=0;Z<N.length;++Z){const G=N[Z],Le=typeof G=="object"&&typeof G.value<"u"?G.value:S[G];if(o&&Le===null)continue;const De=f&&a?G.replace(/\./g,"%2E"):G,en=bt(S)?typeof n=="function"?n(ee,De):ee:ee+(f?"."+De:"["+De+"]");T.set(e,v);const At=new WeakMap;At.set(hi,T),wu(D,bu(Le,en,n,s,r,i,o,a,n==="comma"&&_&&bt(S)?null:l,c,u,f,h,m,y,_,w,At))}return D}function Ey(e=be){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||be.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=Hi;if(typeof e.format<"u"){if(!wy.call(Vi,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const s=Vi[n];let r=be.filter;(typeof e.filter=="function"||bt(e.filter))&&(r=e.filter);let i;if(e.arrayFormat&&e.arrayFormat in _u?i=e.arrayFormat:"indices"in e?i=e.indices?"indices":"repeat":i=be.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:be.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:be.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:be.allowEmptyArrays,arrayFormat:i,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:be.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?be.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:be.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:be.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:be.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:be.encodeValuesOnly,filter:r,format:n,formatter:s,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:be.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:be.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:be.strictNullHandling}}function vy(e,t={}){let n=e;const s=Ey(t);let r,i;typeof s.filter=="function"?(i=s.filter,n=i("",n)):bt(s.filter)&&(i=s.filter,r=i);const o=[];if(typeof n!="object"||n===null)return"";const a=_u[s.arrayFormat],l=a==="comma"&&s.commaRoundTrip;r||(r=Object.keys(n)),s.sort&&r.sort(s.sort);const c=new WeakMap;for(let h=0;h<r.length;++h){const m=r[h];s.skipNulls&&n[m]===null||wu(o,bu(n[m],m,a,l,s.allowEmptyArrays,s.strictNullHandling,s.skipNulls,s.encodeDotInKeys,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.format,s.formatter,s.encodeValuesOnly,s.charset,c))}const u=o.join(s.delimiter);let f=s.addQueryPrefix===!0?"?":"";return s.charsetSentinel&&(s.charset==="iso-8859-1"?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),u.length>0?f+u:""}const vn="4.91.1";let rl=!1,ds,Su,xu,Wi,Eu,vu,Ru,Au,Cu;function Ry(e,t={auto:!1}){if(rl)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(ds)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${ds}'\``);rl=t.auto,ds=e.kind,Su=e.fetch,xu=e.FormData,Wi=e.File,Eu=e.ReadableStream,vu=e.getMultipartRequestOptions,Ru=e.getDefaultAgent,Au=e.fileFromPath,Cu=e.isFsReadStream}class Ay{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}}function Cy({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,s,r,i;try{n=fetch,s=Request,r=Response,i=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${t}`)}return{kind:"web",fetch:n,Request:s,Response:r,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(o,a)=>({...a,body:new Ay(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:o=>!1}}const Pu=()=>{ds||Ry(Cy(),{auto:!0})};Pu();class V extends Error{}class Ae extends V{constructor(t,n,s,r){super(`${Ae.makeMessage(t,n,s)}`),this.status=t,this.headers=r,this.request_id=r==null?void 0:r["x-request-id"],this.error=n;const i=n;this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(t,n,s){const r=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):s;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,n,s,r){if(!t||!r)return new Br({message:s,cause:Ji(n)});const i=n==null?void 0:n.error;return t===400?new Tu(t,i,s,r):t===401?new Ou(t,i,s,r):t===403?new ku(t,i,s,r):t===404?new Iu(t,i,s,r):t===409?new Fu(t,i,s,r):t===422?new Mu(t,i,s,r):t===429?new Nu(t,i,s,r):t>=500?new $u(t,i,s,r):new Ae(t,i,s,r)}}class nt extends Ae{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Br extends Ae{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class Eo extends Br{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Tu extends Ae{}class Ou extends Ae{}class ku extends Ae{}class Iu extends Ae{}class Fu extends Ae{}class Mu extends Ae{}class Nu extends Ae{}class $u extends Ae{}class Lu extends V{constructor(){super("Could not parse response content as the length limit was reached")}}class Du extends V{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var Bs=function(e,t,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(e,n):r?r.value=n:t.set(e,n),n},sn=function(e,t,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:t.get(e)},Xe;class Ur{constructor(){Xe.set(this,void 0),this.buffer=new Uint8Array,Bs(this,Xe,null,"f")}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?new TextEncoder().encode(t):t;let s=new Uint8Array(this.buffer.length+n.length);s.set(this.buffer),s.set(n,this.buffer.length),this.buffer=s;const r=[];let i;for(;(i=Py(this.buffer,sn(this,Xe,"f")))!=null;){if(i.carriage&&sn(this,Xe,"f")==null){Bs(this,Xe,i.index,"f");continue}if(sn(this,Xe,"f")!=null&&(i.index!==sn(this,Xe,"f")+1||i.carriage)){r.push(this.decodeText(this.buffer.slice(0,sn(this,Xe,"f")-1))),this.buffer=this.buffer.slice(sn(this,Xe,"f")),Bs(this,Xe,null,"f");continue}const o=sn(this,Xe,"f")!==null?i.preceding-1:i.preceding,a=this.decodeText(this.buffer.slice(0,o));r.push(a),this.buffer=this.buffer.slice(i.index),Bs(this,Xe,null,"f")}return r}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new V(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new V(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new V("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}Xe=new WeakMap;Ur.NEWLINE_CHARS=new Set([`
`,"\r"]);Ur.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Py(e,t){for(let r=t??0;r<e.length;r++){if(e[r]===10)return{preceding:r,index:r+1,carriage:!1};if(e[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function Ty(e){for(let s=0;s<e.length-1;s++){if(e[s]===10&&e[s+1]===10||e[s]===13&&e[s+1]===13)return s+2;if(e[s]===13&&e[s+1]===10&&s+3<e.length&&e[s+2]===13&&e[s+3]===10)return s+4}return-1}function Bu(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class Et{constructor(t,n){this.iterator=t,this.controller=n}static fromSSEResponse(t,n){let s=!1;async function*r(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let i=!1;try{for await(const o of Oy(t,n))if(!i){if(o.data.startsWith("[DONE]")){i=!0;continue}if(o.event===null||o.event.startsWith("response.")||o.event.startsWith("transcript.")){let a;try{a=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(a&&a.error)throw new Ae(void 0,a.error,void 0,Ju(t.headers));yield a}else{let a;try{a=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(o.event=="error")throw new Ae(void 0,a.error,a.message,void 0);yield{event:o.event,data:a}}}i=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{i||n.abort()}}return new Et(r,n)}static fromReadableStream(t,n){let s=!1;async function*r(){const o=new Ur,a=Bu(t);for await(const l of a)for(const c of o.decode(l))yield c;for(const l of o.flush())yield l}async function*i(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let o=!1;try{for await(const a of r())o||a&&(yield JSON.parse(a));o=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{o||n.abort()}}return new Et(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],s=this.iterator(),r=i=>({next:()=>{if(i.length===0){const o=s.next();t.push(o),n.push(o)}return i.shift()}});return[new Et(()=>r(t),this.controller),new Et(()=>r(n),this.controller)]}toReadableStream(){const t=this;let n;const s=new TextEncoder;return new Eu({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const a=s.encode(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)==null?void 0:r.call(n))}})}}async function*Oy(e,t){if(!e.body)throw t.abort(),new V("Attempted to iterate over a response with no body");const n=new Iy,s=new Ur,r=Bu(e.body);for await(const i of ky(r))for(const o of s.decode(i)){const a=n.decode(o);a&&(yield a)}for(const i of s.flush()){const o=n.decode(i);o&&(yield o)}}async function*ky(e){let t=new Uint8Array;for await(const n of e){if(n==null)continue;const s=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let r=new Uint8Array(t.length+s.length);r.set(t),r.set(s,t.length),t=r;let i;for(;(i=Ty(t))!==-1;)yield t.slice(0,i),t=t.slice(i)}t.length>0&&(yield t)}class Iy{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,s,r]=Fy(t,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}function Fy(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}const Uu=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",ju=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&jr(e),jr=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",My=e=>ju(e)||Uu(e)||Cu(e);async function Hu(e,t,n){var r;if(e=await e,ju(e))return e;if(Uu(e)){const i=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const o=jr(i)?[await i.arrayBuffer()]:[i];return new Wi(o,t,n)}const s=await Ny(e);if(t||(t=Ly(e)??"unknown_file"),!(n!=null&&n.type)){const i=(r=s[0])==null?void 0:r.type;typeof i=="string"&&(n={...n,type:i})}return new Wi(s,t,n)}async function Ny(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(jr(e))t.push(await e.arrayBuffer());else if(Dy(e))for await(const s of e)t.push(s);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${(n=e==null?void 0:e.constructor)==null?void 0:n.name}; props: ${$y(e)}`);return t}function $y(e){return`[${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}function Ly(e){var t;return pi(e.name)||pi(e.filename)||((t=pi(e.path))==null?void 0:t.split(/[\\/]/).pop())}const pi=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},Dy=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",il=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody",Un=async e=>{const t=await By(e.body);return vu(t,e)},By=async e=>{const t=new xu;return await Promise.all(Object.entries(e||{}).map(([n,s])=>qi(t,n,s))),t},qi=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(My(n)){const s=await Hu(n);e.append(t,s)}else if(Array.isArray(n))await Promise.all(n.map(s=>qi(e,t+"[]",s)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([s,r])=>qi(e,`${t}[${s}]`,r)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var Mn={},Uy=function(e,t,n,s,r){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n},jy=function(e,t,n,s){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:t.get(e)},Us;Pu();async function Vu(e){var o;const{response:t}=e;if(e.options.stream)return zt("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):Et.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type"),s=(o=n==null?void 0:n.split(";")[0])==null?void 0:o.trim();if((s==null?void 0:s.includes("application/json"))||(s==null?void 0:s.endsWith("+json"))){const a=await t.json();return zt("response",t.status,t.url,t.headers,a),Wu(a,t)}const i=await t.text();return zt("response",t.status,t.url,t.headers,i),i}function Wu(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class Hr extends Promise{constructor(t,n=Vu){super(s=>{s(null)}),this.responsePromise=t,this.parseResponse=n}_thenUnwrap(t){return new Hr(this.responsePromise,async n=>Wu(t(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}class Hy{constructor({baseURL:t,maxRetries:n=2,timeout:s=6e5,httpAgent:r,fetch:i}){this.baseURL=t,this.maxRetries=mi("maxRetries",n),this.timeout=mi("timeout",s),this.httpAgent=r,this.fetch=i??Su}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...Ky(),...this.authHeaders(t)}}validateHeaders(t,n){}defaultIdempotencyKey(){return`stainless-node-retry-${Qy()}`}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,s){return this.request(Promise.resolve(s).then(async r=>{const i=r&&jr(r==null?void 0:r.body)?new DataView(await r.body.arrayBuffer()):(r==null?void 0:r.body)instanceof DataView?r.body:(r==null?void 0:r.body)instanceof ArrayBuffer?new DataView(r.body):r&&ArrayBuffer.isView(r==null?void 0:r.body)?new DataView(r.body.buffer):r==null?void 0:r.body;return{method:t,path:n,...r,body:i}}))}getAPIList(t,n,s){return this.requestAPIList(n,{method:"get",path:t,...s})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:n=0}={}){var y;t={...t};const{method:s,path:r,query:i,headers:o={}}=t,a=ArrayBuffer.isView(t.body)||t.__binaryRequest&&typeof t.body=="string"?t.body:il(t.body)?t.body.body:t.body?JSON.stringify(t.body,null,2):null,l=this.calculateContentLength(a),c=this.buildURL(r,i);"timeout"in t&&mi("timeout",t.timeout),t.timeout=t.timeout??this.timeout;const u=t.httpAgent??this.httpAgent??Ru(c),f=t.timeout+1e3;typeof((y=u==null?void 0:u.options)==null?void 0:y.timeout)=="number"&&f>(u.options.timeout??0)&&(u.options.timeout=f),this.idempotencyHeader&&s!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=t.idempotencyKey);const h=this.buildHeaders({options:t,headers:o,contentLength:l,retryCount:n});return{req:{method:s,...a&&{body:a},headers:h,...u&&{agent:u},signal:t.signal??null},url:c,timeout:t.timeout}}buildHeaders({options:t,headers:n,contentLength:s,retryCount:r}){const i={};s&&(i["content-length"]=s);const o=this.defaultHeaders(t);return cl(i,o),cl(i,n),il(t.body)&&ds!=="node"&&delete i["content-type"],Hs(o,"x-stainless-retry-count")===void 0&&Hs(n,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(r)),Hs(o,"x-stainless-timeout")===void 0&&Hs(n,"x-stainless-timeout")===void 0&&t.timeout&&(i["x-stainless-timeout"]=String(t.timeout)),this.validateHeaders(i,n),i}async prepareOptions(t){}async prepareRequest(t,{url:n,options:s}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(n=>[...n])):{...t}:{}}makeStatusError(t,n,s,r){return Ae.generate(t,n,s,r)}request(t,n=null){return new Hr(this.makeRequest(t,n))}async makeRequest(t,n){var f,h;const s=await t,r=s.maxRetries??this.maxRetries;n==null&&(n=r),await this.prepareOptions(s);const{req:i,url:o,timeout:a}=this.buildRequest(s,{retryCount:r-n});if(await this.prepareRequest(i,{url:o,options:s}),zt("request",o,s,i.headers),(f=s.signal)!=null&&f.aborted)throw new nt;const l=new AbortController,c=await this.fetchWithTimeout(o,i,a,l).catch(Ji);if(c instanceof Error){if((h=s.signal)!=null&&h.aborted)throw new nt;if(n)return this.retryRequest(s,n);throw c.name==="AbortError"?new Eo:new Br({cause:c})}const u=Ju(c.headers);if(!c.ok){if(n&&this.shouldRetry(c)){const S=`retrying, ${n} attempts remaining`;return zt(`response (error; ${S})`,c.status,o,u),this.retryRequest(s,n,u)}const m=await c.text().catch(S=>Ji(S).message),y=zy(m),_=y?void 0:m;throw zt(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,c.status,o,u,_),this.makeStatusError(c.status,y,_,u)}return{response:c,options:s,controller:l}}requestAPIList(t,n){const s=this.makeRequest(n,null);return new Vy(this,s,t)}buildURL(t,n){const s=Gy(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),r=this.defaultQuery();return Ku(r)||(n={...r,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}stringifyQuery(t){return Object.entries(t).filter(([n,s])=>typeof s<"u").map(([n,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(n)}=`;throw new V(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,n,s,r){const{signal:i,...o}=n||{};i&&i.addEventListener("abort",()=>r.abort());const a=setTimeout(()=>r.abort(),s),l={signal:r.signal,...o};return l.method&&(l.method=l.method.toUpperCase()),this.fetch.call(void 0,t,l).finally(()=>{clearTimeout(a)})}shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,s){let r;const i=s==null?void 0:s["retry-after-ms"];if(i){const a=parseFloat(i);Number.isNaN(a)||(r=a)}const o=s==null?void 0:s["retry-after"];if(o&&!r){const a=parseFloat(o);Number.isNaN(a)?r=Date.parse(o)-Date.now():r=a*1e3}if(!(r&&0<=r&&r<60*1e3)){const a=t.maxRetries??this.maxRetries;r=this.calculateDefaultRetryTimeoutMillis(n,a)}return await Os(r),this.makeRequest(t,n-1)}calculateDefaultRetryTimeoutMillis(t,n){const i=n-t,o=Math.min(.5*Math.pow(2,i),8),a=1-Math.random()*.25;return o*a*1e3}getUserAgent(){return`${this.constructor.name}/JS ${vn}`}}class qu{constructor(t,n,s,r){Us.set(this,void 0),Uy(this,Us,t),this.options=r,this.response=n,this.body=s}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const t=this.nextPageInfo();if(!t)throw new V("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in t&&typeof n.query=="object")n.query={...n.query,...t.params};else if("url"in t){const s=[...Object.entries(n.query||{}),...t.url.searchParams.entries()];for(const[r,i]of s)t.url.searchParams.set(r,i);n.query=void 0,n.path=t.url.toString()}return await jy(this,Us,"f").requestAPIList(this.constructor,n)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(Us=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const n of t.getPaginatedItems())yield n}}class Vy extends Hr{constructor(t,n,s){super(n,async r=>new s(t,r.response,await Vu(r),r.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}}const Ju=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,n){const s=n.toString();return t[s.toLowerCase()]||t[s]}}),Wy={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},ve=e=>typeof e=="object"&&e!==null&&!Ku(e)&&Object.keys(e).every(t=>zu(Wy,t)),qy=()=>{var t;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vn,"X-Stainless-OS":al(Deno.build.os),"X-Stainless-Arch":ol(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vn,"X-Stainless-OS":al(process.platform),"X-Stainless-Arch":ol(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=Jy();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Jy(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const s=n.exec(navigator.userAgent);if(s){const r=s[1]||0,i=s[2]||0,o=s[3]||0;return{browser:t,version:`${r}.${i}.${o}`}}}return null}const ol=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",al=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let ll;const Ky=()=>ll??(ll=qy()),zy=e=>{try{return JSON.parse(e)}catch{return}},Xy=/^[a-z][a-z0-9+.-]*:/i,Gy=e=>Xy.test(e),Os=e=>new Promise(t=>setTimeout(t,e)),mi=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new V(`${e} must be an integer`);if(t<0)throw new V(`${e} must be a positive integer`);return t},Ji=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},js=e=>{var t,n,s,r;if(typeof process<"u")return((t=Mn==null?void 0:Mn[e])==null?void 0:t.trim())??void 0;if(typeof Deno<"u")return(r=(s=(n=Deno.env)==null?void 0:n.get)==null?void 0:s.call(n,e))==null?void 0:r.trim()};function Ku(e){if(!e)return!0;for(const t in e)return!1;return!0}function zu(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function cl(e,t){for(const n in t){if(!zu(t,n))continue;const s=n.toLowerCase();if(!s)continue;const r=t[n];r===null?delete e[s]:r!==void 0&&(e[s]=r)}}const ul=new Set(["authorization","api-key"]);function zt(e,...t){if(typeof process<"u"&&(Mn==null?void 0:Mn.DEBUG)==="true"){const n=t.map(s=>{if(!s)return s;if(s.headers){const i={...s,headers:{...s.headers}};for(const o in s.headers)ul.has(o.toLowerCase())&&(i.headers[o]="REDACTED");return i}let r=null;for(const i in s)ul.has(i.toLowerCase())&&(r??(r={...s}),r[i]="REDACTED");return r??s});console.log(`OpenAI:DEBUG:${e}`,...n)}}const Qy=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),Yy=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",Zy=e=>typeof(e==null?void 0:e.get)=="function",Hs=(e,t)=>{var s;const n=t.toLowerCase();if(Zy(e)){const r=((s=t[0])==null?void 0:s.toUpperCase())+t.substring(1).replace(/([^\w])(\w)/g,(i,o,a)=>o+a.toUpperCase());for(const i of[t,n,t.toUpperCase(),r]){const o=e.get(i);if(o)return o}}for(const[r,i]of Object.entries(e))if(r.toLowerCase()===n)return Array.isArray(i)?(i.length<=1||console.warn(`Received ${i.length} entries for the ${t} header, using the first entry.`),i[0]):i},e_=e=>{if(typeof Buffer<"u")return Array.from(new Float32Array(Buffer.from(e,"base64").buffer));{const t=atob(e),n=t.length,s=new Uint8Array(n);for(let r=0;r<n;r++)s[r]=t.charCodeAt(r);return Array.from(new Float32Array(s.buffer))}};function gi(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}class vo extends qu{constructor(t,n,s,r){super(t,n,s,r),this.data=s.data||[],this.object=s.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class qe extends qu{constructor(t,n,s,r){super(t,n,s,r),this.data=s.data||[],this.has_more=s.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;const n=Object.fromEntries(t.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var s;const t=this.getPaginatedItems();if(!t.length)return null;const n=(s=t[t.length-1])==null?void 0:s.id;return n?{params:{after:n}}:null}}class Q{constructor(t){this._client=t}}let Xu=class extends Q{list(t,n={},s){return ve(n)?this.list(t,{},n):this._client.getAPIList(`/chat/completions/${t}/messages`,t_,{query:n,...s})}},Vr=class extends Q{constructor(){super(...arguments),this.messages=new Xu(this._client)}create(t,n){return this._client.post("/chat/completions",{body:t,...n,stream:t.stream??!1})}retrieve(t,n){return this._client.get(`/chat/completions/${t}`,n)}update(t,n,s){return this._client.post(`/chat/completions/${t}`,{body:n,...s})}list(t={},n){return ve(t)?this.list({},t):this._client.getAPIList("/chat/completions",Wr,{query:t,...n})}del(t,n){return this._client.delete(`/chat/completions/${t}`,n)}};class Wr extends qe{}class t_ extends qe{}Vr.ChatCompletionsPage=Wr;Vr.Messages=Xu;let qr=class extends Q{constructor(){super(...arguments),this.completions=new Vr(this._client)}};qr.Completions=Vr;qr.ChatCompletionsPage=Wr;class Gu extends Q{create(t,n){return this._client.post("/audio/speech",{body:t,...n,headers:{Accept:"application/octet-stream",...n==null?void 0:n.headers},__binaryResponse:!0})}}class Qu extends Q{create(t,n){return this._client.post("/audio/transcriptions",Un({body:t,...n,stream:t.stream??!1,__metadata:{model:t.model}}))}}class Yu extends Q{create(t,n){return this._client.post("/audio/translations",Un({body:t,...n,__metadata:{model:t.model}}))}}class ks extends Q{constructor(){super(...arguments),this.transcriptions=new Qu(this._client),this.translations=new Yu(this._client),this.speech=new Gu(this._client)}}ks.Transcriptions=Qu;ks.Translations=Yu;ks.Speech=Gu;class Ro extends Q{create(t,n){return this._client.post("/batches",{body:t,...n})}retrieve(t,n){return this._client.get(`/batches/${t}`,n)}list(t={},n){return ve(t)?this.list({},t):this._client.getAPIList("/batches",Ao,{query:t,...n})}cancel(t,n){return this._client.post(`/batches/${t}/cancel`,n)}}class Ao extends qe{}Ro.BatchesPage=Ao;class Co extends Q{create(t,n){return this._client.post("/assistants",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,s){return this._client.post(`/assistants/${t}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t={},n){return ve(t)?this.list({},t):this._client.getAPIList("/assistants",Po,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Po extends qe{}Co.AssistantsPage=Po;function fl(e){return typeof e.parse=="function"}const Nn=e=>(e==null?void 0:e.role)==="assistant",Zu=e=>(e==null?void 0:e.role)==="function",ef=e=>(e==null?void 0:e.role)==="tool";var it=function(e,t,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(e,n):r?r.value=n:t.set(e,n),n},ge=function(e,t,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:t.get(e)},Ki,tr,nr,Yn,Zn,sr,es,kt,ts,yr,_r,Rn,tf;class To{constructor(){Ki.add(this),this.controller=new AbortController,tr.set(this,void 0),nr.set(this,()=>{}),Yn.set(this,()=>{}),Zn.set(this,void 0),sr.set(this,()=>{}),es.set(this,()=>{}),kt.set(this,{}),ts.set(this,!1),yr.set(this,!1),_r.set(this,!1),Rn.set(this,!1),it(this,tr,new Promise((t,n)=>{it(this,nr,t,"f"),it(this,Yn,n,"f")}),"f"),it(this,Zn,new Promise((t,n)=>{it(this,sr,t,"f"),it(this,es,n,"f")}),"f"),ge(this,tr,"f").catch(()=>{}),ge(this,Zn,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},ge(this,Ki,"m",tf).bind(this))},0)}_connected(){this.ended||(ge(this,nr,"f").call(this),this._emit("connect"))}get ended(){return ge(this,ts,"f")}get errored(){return ge(this,yr,"f")}get aborted(){return ge(this,_r,"f")}abort(){this.controller.abort()}on(t,n){return(ge(this,kt,"f")[t]||(ge(this,kt,"f")[t]=[])).push({listener:n}),this}off(t,n){const s=ge(this,kt,"f")[t];if(!s)return this;const r=s.findIndex(i=>i.listener===n);return r>=0&&s.splice(r,1),this}once(t,n){return(ge(this,kt,"f")[t]||(ge(this,kt,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,s)=>{it(this,Rn,!0,"f"),t!=="error"&&this.once("error",s),this.once(t,n)})}async done(){it(this,Rn,!0,"f"),await ge(this,Zn,"f")}_emit(t,...n){if(ge(this,ts,"f"))return;t==="end"&&(it(this,ts,!0,"f"),ge(this,sr,"f").call(this));const s=ge(this,kt,"f")[t];if(s&&(ge(this,kt,"f")[t]=s.filter(r=>!r.once),s.forEach(({listener:r})=>r(...n))),t==="abort"){const r=n[0];!ge(this,Rn,"f")&&!(s!=null&&s.length)&&Promise.reject(r),ge(this,Yn,"f").call(this,r),ge(this,es,"f").call(this,r),this._emit("end");return}if(t==="error"){const r=n[0];!ge(this,Rn,"f")&&!(s!=null&&s.length)&&Promise.reject(r),ge(this,Yn,"f").call(this,r),ge(this,es,"f").call(this,r),this._emit("end")}}_emitFinal(){}}tr=new WeakMap,nr=new WeakMap,Yn=new WeakMap,Zn=new WeakMap,sr=new WeakMap,es=new WeakMap,kt=new WeakMap,ts=new WeakMap,yr=new WeakMap,_r=new WeakMap,Rn=new WeakMap,Ki=new WeakSet,tf=function(t){if(it(this,yr,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new nt),t instanceof nt)return it(this,_r,!0,"f"),this._emit("abort",t);if(t instanceof V)return this._emit("error",t);if(t instanceof Error){const n=new V(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new V(String(t)))};function Oo(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function Is(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function n_(e,t){return!t||!nf(t)?{...e,choices:e.choices.map(n=>({...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:ko(e,t)}function ko(e,t){const n=e.choices.map(s=>{var r;if(s.finish_reason==="length")throw new Lu;if(s.finish_reason==="content_filter")throw new Du;return{...s,message:{...s.message,...s.message.tool_calls?{tool_calls:((r=s.message.tool_calls)==null?void 0:r.map(i=>r_(t,i)))??void 0}:void 0,parsed:s.message.content&&!s.message.refusal?s_(t,s.message.content):null}}});return{...e,choices:n}}function s_(e,t){var n,s;return((n=e.response_format)==null?void 0:n.type)!=="json_schema"?null:((s=e.response_format)==null?void 0:s.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function r_(e,t){var s;const n=(s=e.tools)==null?void 0:s.find(r=>{var i;return((i=r.function)==null?void 0:i.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:Is(n)?n.$parseRaw(t.function.arguments):n!=null&&n.function.strict?JSON.parse(t.function.arguments):null}}}function i_(e,t){var s;if(!e)return!1;const n=(s=e.tools)==null?void 0:s.find(r=>{var i;return((i=r.function)==null?void 0:i.name)===t.function.name});return Is(n)||(n==null?void 0:n.function.strict)||!1}function nf(e){var t;return Oo(e.response_format)?!0:((t=e.tools)==null?void 0:t.some(n=>Is(n)||n.type==="function"&&n.function.strict===!0))??!1}function o_(e){for(const t of e??[]){if(t.type!=="function")throw new V(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new V(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var je=function(e,t,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:t.get(e)},Ce,zi,wr,Xi,Gi,Qi,sf,Yi;const dl=10;class rf extends To{constructor(){super(...arguments),Ce.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var s;this._chatCompletions.push(t),this._emit("chatCompletion",t);const n=(s=t.choices[0])==null?void 0:s.message;return n&&this._addMessage(n),t}_addMessage(t,n=!0){if("content"in t||(t.content=null),this.messages.push(t),n){if(this._emit("message",t),(Zu(t)||ef(t))&&t.content)this._emit("functionCallResult",t.content);else if(Nn(t)&&t.function_call)this._emit("functionCall",t.function_call);else if(Nn(t)&&t.tool_calls)for(const s of t.tool_calls)s.type==="function"&&this._emit("functionCall",s.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new V("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),je(this,Ce,"m",zi).call(this)}async finalMessage(){return await this.done(),je(this,Ce,"m",wr).call(this)}async finalFunctionCall(){return await this.done(),je(this,Ce,"m",Xi).call(this)}async finalFunctionCallResult(){return await this.done(),je(this,Ce,"m",Gi).call(this)}async totalUsage(){return await this.done(),je(this,Ce,"m",Qi).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const n=je(this,Ce,"m",wr).call(this);n&&this._emit("finalMessage",n);const s=je(this,Ce,"m",zi).call(this);s&&this._emit("finalContent",s);const r=je(this,Ce,"m",Xi).call(this);r&&this._emit("finalFunctionCall",r);const i=je(this,Ce,"m",Gi).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",je(this,Ce,"m",Qi).call(this))}async _createChatCompletion(t,n,s){const r=s==null?void 0:s.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),je(this,Ce,"m",sf).call(this,n);const i=await t.chat.completions.create({...n,stream:!1},{...s,signal:this.controller.signal});return this._connected(),this._addChatCompletion(ko(i,n))}async _runChatCompletion(t,n,s){for(const r of n.messages)this._addMessage(r,!1);return await this._createChatCompletion(t,n,s)}async _runFunctions(t,n,s){var h;const r="function",{function_call:i="auto",stream:o,...a}=n,l=typeof i!="string"&&(i==null?void 0:i.name),{maxChatCompletions:c=dl}=s||{},u={};for(const m of n.functions)u[m.name||m.function.name]=m;const f=n.functions.map(m=>({name:m.name||m.function.name,parameters:m.parameters,description:m.description}));for(const m of n.messages)this._addMessage(m,!1);for(let m=0;m<c;++m){const _=(h=(await this._createChatCompletion(t,{...a,function_call:i,functions:f,messages:[...this.messages]},s)).choices[0])==null?void 0:h.message;if(!_)throw new V("missing message in ChatCompletion response");if(!_.function_call)return;const{name:w,arguments:T}=_.function_call,S=u[w];if(S){if(l&&l!==w){const D=`Invalid function_call: ${JSON.stringify(w)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:r,name:w,content:D});continue}}else{const D=`Invalid function_call: ${JSON.stringify(w)}. Available options are: ${f.map(N=>JSON.stringify(N.name)).join(", ")}. Please try again`;this._addMessage({role:r,name:w,content:D});continue}let C;try{C=fl(S)?await S.parse(T):T}catch(D){this._addMessage({role:r,name:w,content:D instanceof Error?D.message:String(D)});continue}const v=await S.function(C,this),L=je(this,Ce,"m",Yi).call(this,v);if(this._addMessage({role:r,name:w,content:L}),l)return}}async _runTools(t,n,s){var m,y,_;const r="tool",{tool_choice:i="auto",stream:o,...a}=n,l=typeof i!="string"&&((m=i==null?void 0:i.function)==null?void 0:m.name),{maxChatCompletions:c=dl}=s||{},u=n.tools.map(w=>{if(Is(w)){if(!w.$callback)throw new V("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:w.$callback,name:w.function.name,description:w.function.description||"",parameters:w.function.parameters,parse:w.$parseRaw,strict:!0}}}return w}),f={};for(const w of u)w.type==="function"&&(f[w.function.name||w.function.function.name]=w.function);const h="tools"in n?u.map(w=>w.type==="function"?{type:"function",function:{name:w.function.name||w.function.function.name,parameters:w.function.parameters,description:w.function.description,strict:w.function.strict}}:w):void 0;for(const w of n.messages)this._addMessage(w,!1);for(let w=0;w<c;++w){const S=(y=(await this._createChatCompletion(t,{...a,tool_choice:i,tools:h,messages:[...this.messages]},s)).choices[0])==null?void 0:y.message;if(!S)throw new V("missing message in ChatCompletion response");if(!((_=S.tool_calls)!=null&&_.length))return;for(const C of S.tool_calls){if(C.type!=="function")continue;const v=C.id,{name:L,arguments:D}=C.function,N=f[L];if(N){if(l&&l!==L){const G=`Invalid tool_call: ${JSON.stringify(L)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:r,tool_call_id:v,content:G});continue}}else{const G=`Invalid tool_call: ${JSON.stringify(L)}. Available options are: ${Object.keys(f).map(Le=>JSON.stringify(Le)).join(", ")}. Please try again`;this._addMessage({role:r,tool_call_id:v,content:G});continue}let ae;try{ae=fl(N)?await N.parse(D):D}catch(G){const Le=G instanceof Error?G.message:String(G);this._addMessage({role:r,tool_call_id:v,content:Le});continue}const ee=await N.function(ae,this),Z=je(this,Ce,"m",Yi).call(this,ee);if(this._addMessage({role:r,tool_call_id:v,content:Z}),l)return}}}}Ce=new WeakSet,zi=function(){return je(this,Ce,"m",wr).call(this).content??null},wr=function(){let t=this.messages.length;for(;t-- >0;){const n=this.messages[t];if(Nn(n)){const{function_call:s,...r}=n,i={...r,content:n.content??null,refusal:n.refusal??null};return s&&(i.function_call=s),i}}throw new V("stream ended without producing a ChatCompletionMessage with role=assistant")},Xi=function(){var t,n;for(let s=this.messages.length-1;s>=0;s--){const r=this.messages[s];if(Nn(r)&&(r!=null&&r.function_call))return r.function_call;if(Nn(r)&&((t=r==null?void 0:r.tool_calls)!=null&&t.length))return(n=r.tool_calls.at(-1))==null?void 0:n.function}},Gi=function(){for(let t=this.messages.length-1;t>=0;t--){const n=this.messages[t];if(Zu(n)&&n.content!=null||ef(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(s=>{var r;return s.role==="assistant"&&((r=s.tool_calls)==null?void 0:r.some(i=>i.type==="function"&&i.id===n.tool_call_id))}))return n.content}},Qi=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(t.completion_tokens+=n.completion_tokens,t.prompt_tokens+=n.prompt_tokens,t.total_tokens+=n.total_tokens);return t},sf=function(t){if(t.n!=null&&t.n>1)throw new V("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Yi=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class vs extends rf{static runFunctions(t,n,s){const r=new vs,i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run(()=>r._runFunctions(t,n,i)),r}static runTools(t,n,s){const r=new vs,i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(t,n,i)),r}_addMessage(t,n=!0){super._addMessage(t,n),Nn(t)&&t.content&&this._emit("content",t.content)}}const of=1,af=2,lf=4,cf=8,uf=16,ff=32,df=64,hf=128,pf=256,mf=hf|pf,gf=uf|ff|mf|df,yf=of|af|gf,_f=lf|cf,a_=yf|_f,xe={STR:of,NUM:af,ARR:lf,OBJ:cf,NULL:uf,BOOL:ff,NAN:df,INFINITY:hf,MINUS_INFINITY:pf,INF:mf,SPECIAL:gf,ATOM:yf,COLLECTION:_f,ALL:a_};class l_ extends Error{}class c_ extends Error{}function u_(e,t=xe.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return f_(e.trim(),t)}const f_=(e,t)=>{const n=e.length;let s=0;const r=h=>{throw new l_(`${h} at position ${s}`)},i=h=>{throw new c_(`${h} at position ${s}`)},o=()=>(f(),s>=n&&r("Unexpected end of input"),e[s]==='"'?a():e[s]==="{"?l():e[s]==="["?c():e.substring(s,s+4)==="null"||xe.NULL&t&&n-s<4&&"null".startsWith(e.substring(s))?(s+=4,null):e.substring(s,s+4)==="true"||xe.BOOL&t&&n-s<4&&"true".startsWith(e.substring(s))?(s+=4,!0):e.substring(s,s+5)==="false"||xe.BOOL&t&&n-s<5&&"false".startsWith(e.substring(s))?(s+=5,!1):e.substring(s,s+8)==="Infinity"||xe.INFINITY&t&&n-s<8&&"Infinity".startsWith(e.substring(s))?(s+=8,1/0):e.substring(s,s+9)==="-Infinity"||xe.MINUS_INFINITY&t&&1<n-s&&n-s<9&&"-Infinity".startsWith(e.substring(s))?(s+=9,-1/0):e.substring(s,s+3)==="NaN"||xe.NAN&t&&n-s<3&&"NaN".startsWith(e.substring(s))?(s+=3,NaN):u()),a=()=>{const h=s;let m=!1;for(s++;s<n&&(e[s]!=='"'||m&&e[s-1]==="\\");)m=e[s]==="\\"?!m:!1,s++;if(e.charAt(s)=='"')try{return JSON.parse(e.substring(h,++s-Number(m)))}catch(y){i(String(y))}else if(xe.STR&t)try{return JSON.parse(e.substring(h,s-Number(m))+'"')}catch{return JSON.parse(e.substring(h,e.lastIndexOf("\\"))+'"')}r("Unterminated string literal")},l=()=>{s++,f();const h={};try{for(;e[s]!=="}";){if(f(),s>=n&&xe.OBJ&t)return h;const m=a();f(),s++;try{const y=o();Object.defineProperty(h,m,{value:y,writable:!0,enumerable:!0,configurable:!0})}catch(y){if(xe.OBJ&t)return h;throw y}f(),e[s]===","&&s++}}catch{if(xe.OBJ&t)return h;r("Expected '}' at end of object")}return s++,h},c=()=>{s++;const h=[];try{for(;e[s]!=="]";)h.push(o()),f(),e[s]===","&&s++}catch{if(xe.ARR&t)return h;r("Expected ']' at end of array")}return s++,h},u=()=>{if(s===0){e==="-"&&xe.NUM&t&&r("Not sure what '-' is");try{return JSON.parse(e)}catch(m){if(xe.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}i(String(m))}}const h=s;for(e[s]==="-"&&s++;e[s]&&!",]}".includes(e[s]);)s++;s==n&&!(xe.NUM&t)&&r("Unterminated number literal");try{return JSON.parse(e.substring(h,s))}catch{e.substring(h,s)==="-"&&xe.NUM&t&&r("Not sure what '-' is");try{return JSON.parse(e.substring(h,e.lastIndexOf("e")))}catch(y){i(String(y))}}},f=()=>{for(;s<n&&` 
\r	`.includes(e[s]);)s++};return o()},hl=e=>u_(e,xe.ALL^xe.NUM);var _n=function(e,t,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(e,n):r?r.value=n:t.set(e,n),n},ce=function(e,t,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:t.get(e)},we,Ot,wn,Ut,yi,Vs,_i,wi,bi,Ws,Si,pl;class Rs extends rf{constructor(t){super(),we.add(this),Ot.set(this,void 0),wn.set(this,void 0),Ut.set(this,void 0),_n(this,Ot,t,"f"),_n(this,wn,[],"f")}get currentChatCompletionSnapshot(){return ce(this,Ut,"f")}static fromReadableStream(t){const n=new Rs(null);return n._run(()=>n._fromReadableStream(t)),n}static createChatCompletion(t,n,s){const r=new Rs(n);return r._run(()=>r._runChatCompletion(t,{...n,stream:!0},{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createChatCompletion(t,n,s){var o;super._createChatCompletion;const r=s==null?void 0:s.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),ce(this,we,"m",yi).call(this);const i=await t.chat.completions.create({...n,stream:!0},{...s,signal:this.controller.signal});this._connected();for await(const a of i)ce(this,we,"m",_i).call(this,a);if((o=i.controller.signal)!=null&&o.aborted)throw new nt;return this._addChatCompletion(ce(this,we,"m",Ws).call(this))}async _fromReadableStream(t,n){var o;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),ce(this,we,"m",yi).call(this),this._connected();const r=Et.fromReadableStream(t,this.controller);let i;for await(const a of r)i&&i!==a.id&&this._addChatCompletion(ce(this,we,"m",Ws).call(this)),ce(this,we,"m",_i).call(this,a),i=a.id;if((o=r.controller.signal)!=null&&o.aborted)throw new nt;return this._addChatCompletion(ce(this,we,"m",Ws).call(this))}[(Ot=new WeakMap,wn=new WeakMap,Ut=new WeakMap,we=new WeakSet,yi=function(){this.ended||_n(this,Ut,void 0,"f")},Vs=function(n){let s=ce(this,wn,"f")[n.index];return s||(s={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},ce(this,wn,"f")[n.index]=s,s)},_i=function(n){var r,i,o,a,l,c,u,f,h,m,y,_,w,T,S;if(this.ended)return;const s=ce(this,we,"m",pl).call(this,n);this._emit("chunk",n,s);for(const C of n.choices){const v=s.choices[C.index];C.delta.content!=null&&((r=v.message)==null?void 0:r.role)==="assistant"&&((i=v.message)!=null&&i.content)&&(this._emit("content",C.delta.content,v.message.content),this._emit("content.delta",{delta:C.delta.content,snapshot:v.message.content,parsed:v.message.parsed})),C.delta.refusal!=null&&((o=v.message)==null?void 0:o.role)==="assistant"&&((a=v.message)!=null&&a.refusal)&&this._emit("refusal.delta",{delta:C.delta.refusal,snapshot:v.message.refusal}),((l=C.logprobs)==null?void 0:l.content)!=null&&((c=v.message)==null?void 0:c.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(u=C.logprobs)==null?void 0:u.content,snapshot:((f=v.logprobs)==null?void 0:f.content)??[]}),((h=C.logprobs)==null?void 0:h.refusal)!=null&&((m=v.message)==null?void 0:m.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(y=C.logprobs)==null?void 0:y.refusal,snapshot:((_=v.logprobs)==null?void 0:_.refusal)??[]});const L=ce(this,we,"m",Vs).call(this,v);v.finish_reason&&(ce(this,we,"m",bi).call(this,v),L.current_tool_call_index!=null&&ce(this,we,"m",wi).call(this,v,L.current_tool_call_index));for(const D of C.delta.tool_calls??[])L.current_tool_call_index!==D.index&&(ce(this,we,"m",bi).call(this,v),L.current_tool_call_index!=null&&ce(this,we,"m",wi).call(this,v,L.current_tool_call_index)),L.current_tool_call_index=D.index;for(const D of C.delta.tool_calls??[]){const N=(w=v.message.tool_calls)==null?void 0:w[D.index];N!=null&&N.type&&((N==null?void 0:N.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(T=N.function)==null?void 0:T.name,index:D.index,arguments:N.function.arguments,parsed_arguments:N.function.parsed_arguments,arguments_delta:((S=D.function)==null?void 0:S.arguments)??""}):(N==null||N.type,void 0))}}},wi=function(n,s){var o,a,l;if(ce(this,we,"m",Vs).call(this,n).done_tool_calls.has(s))return;const i=(o=n.message.tool_calls)==null?void 0:o[s];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const c=(l=(a=ce(this,Ot,"f"))==null?void 0:a.tools)==null?void 0:l.find(u=>u.type==="function"&&u.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:s,arguments:i.function.arguments,parsed_arguments:Is(c)?c.$parseRaw(i.function.arguments):c!=null&&c.function.strict?JSON.parse(i.function.arguments):null})}else i.type},bi=function(n){var r,i;const s=ce(this,we,"m",Vs).call(this,n);if(n.message.content&&!s.content_done){s.content_done=!0;const o=ce(this,we,"m",Si).call(this);this._emit("content.done",{content:n.message.content,parsed:o?o.$parseRaw(n.message.content):null})}n.message.refusal&&!s.refusal_done&&(s.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(r=n.logprobs)!=null&&r.content&&!s.logprobs_content_done&&(s.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(i=n.logprobs)!=null&&i.refusal&&!s.logprobs_refusal_done&&(s.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},Ws=function(){if(this.ended)throw new V("stream has ended, this shouldn't happen");const n=ce(this,Ut,"f");if(!n)throw new V("request ended without sending any chunks");return _n(this,Ut,void 0,"f"),_n(this,wn,[],"f"),d_(n,ce(this,Ot,"f"))},Si=function(){var s;const n=(s=ce(this,Ot,"f"))==null?void 0:s.response_format;return Oo(n)?n:null},pl=function(n){var s,r,i,o;let a=ce(this,Ut,"f");const{choices:l,...c}=n;a?Object.assign(a,c):a=_n(this,Ut,{...c,choices:[]},"f");for(const{delta:u,finish_reason:f,index:h,logprobs:m=null,...y}of n.choices){let _=a.choices[h];if(_||(_=a.choices[h]={finish_reason:f,index:h,message:{},logprobs:m,...y}),m)if(!_.logprobs)_.logprobs=Object.assign({},m);else{const{content:D,refusal:N,...ae}=m;Object.assign(_.logprobs,ae),D&&((s=_.logprobs).content??(s.content=[]),_.logprobs.content.push(...D)),N&&((r=_.logprobs).refusal??(r.refusal=[]),_.logprobs.refusal.push(...N))}if(f&&(_.finish_reason=f,ce(this,Ot,"f")&&nf(ce(this,Ot,"f")))){if(f==="length")throw new Lu;if(f==="content_filter")throw new Du}if(Object.assign(_,y),!u)continue;const{content:w,refusal:T,function_call:S,role:C,tool_calls:v,...L}=u;if(Object.assign(_.message,L),T&&(_.message.refusal=(_.message.refusal||"")+T),C&&(_.message.role=C),S&&(_.message.function_call?(S.name&&(_.message.function_call.name=S.name),S.arguments&&((i=_.message.function_call).arguments??(i.arguments=""),_.message.function_call.arguments+=S.arguments)):_.message.function_call=S),w&&(_.message.content=(_.message.content||"")+w,!_.message.refusal&&ce(this,we,"m",Si).call(this)&&(_.message.parsed=hl(_.message.content))),v){_.message.tool_calls||(_.message.tool_calls=[]);for(const{index:D,id:N,type:ae,function:ee,...Z}of v){const G=(o=_.message.tool_calls)[D]??(o[D]={});Object.assign(G,Z),N&&(G.id=N),ae&&(G.type=ae),ee&&(G.function??(G.function={name:ee.name??"",arguments:""})),ee!=null&&ee.name&&(G.function.name=ee.name),ee!=null&&ee.arguments&&(G.function.arguments+=ee.arguments,i_(ce(this,Ot,"f"),G)&&(G.function.parsed_arguments=hl(G.function.arguments)))}}}return a},Symbol.asyncIterator)](){const t=[],n=[];let s=!1;return this.on("chunk",r=>{const i=n.shift();i?i.resolve(r):t.push(r)}),this.on("end",()=>{s=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),this.on("error",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Et(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function d_(e,t){const{id:n,choices:s,created:r,model:i,system_fingerprint:o,...a}=e,l={...a,id:n,choices:s.map(({message:c,finish_reason:u,index:f,logprobs:h,...m})=>{if(!u)throw new V(`missing finish_reason for choice ${f}`);const{content:y=null,function_call:_,tool_calls:w,...T}=c,S=c.role;if(!S)throw new V(`missing role for choice ${f}`);if(_){const{arguments:C,name:v}=_;if(C==null)throw new V(`missing function_call.arguments for choice ${f}`);if(!v)throw new V(`missing function_call.name for choice ${f}`);return{...m,message:{content:y,function_call:{arguments:C,name:v},role:S,refusal:c.refusal??null},finish_reason:u,index:f,logprobs:h}}return w?{...m,index:f,finish_reason:u,logprobs:h,message:{...T,role:S,content:y,refusal:c.refusal??null,tool_calls:w.map((C,v)=>{const{function:L,type:D,id:N,...ae}=C,{arguments:ee,name:Z,...G}=L||{};if(N==null)throw new V(`missing choices[${f}].tool_calls[${v}].id
${qs(e)}`);if(D==null)throw new V(`missing choices[${f}].tool_calls[${v}].type
${qs(e)}`);if(Z==null)throw new V(`missing choices[${f}].tool_calls[${v}].function.name
${qs(e)}`);if(ee==null)throw new V(`missing choices[${f}].tool_calls[${v}].function.arguments
${qs(e)}`);return{...ae,id:N,type:D,function:{...G,name:Z,arguments:ee}}})}}:{...m,message:{...T,content:y,role:S,refusal:c.refusal??null},finish_reason:u,index:f,logprobs:h}}),created:r,model:i,object:"chat.completion",...o?{system_fingerprint:o}:{}};return n_(l,t)}function qs(e){return JSON.stringify(e)}class $n extends Rs{static fromReadableStream(t){const n=new $n(null);return n._run(()=>n._fromReadableStream(t)),n}static runFunctions(t,n,s){const r=new $n(null),i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run(()=>r._runFunctions(t,n,i)),r}static runTools(t,n,s){const r=new $n(n),i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(t,n,i)),r}}let wf=class extends Q{parse(t,n){return o_(t.tools),this._client.chat.completions.create(t,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(s=>ko(s,t))}runFunctions(t,n){return t.stream?$n.runFunctions(this._client,t,n):vs.runFunctions(this._client,t,n)}runTools(t,n){return t.stream?$n.runTools(this._client,t,n):vs.runTools(this._client,t,n)}stream(t,n){return Rs.createChatCompletion(this._client,t,n)}};class Zi extends Q{constructor(){super(...arguments),this.completions=new wf(this._client)}}(function(e){e.Completions=wf})(Zi||(Zi={}));class bf extends Q{create(t,n){return this._client.post("/realtime/sessions",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Sf extends Q{create(t,n){return this._client.post("/realtime/transcription_sessions",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Jr extends Q{constructor(){super(...arguments),this.sessions=new bf(this._client),this.transcriptionSessions=new Sf(this._client)}}Jr.Sessions=bf;Jr.TranscriptionSessions=Sf;var U=function(e,t,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:t.get(e)},ze=function(e,t,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(e,n):r?r.value=n:t.set(e,n),n},Re,eo,St,rr,ot,ln,An,on,br,Qe,ir,or,hs,ns,ss,ml,gl,yl,_l,wl,bl,Sl;class lt extends To{constructor(){super(...arguments),Re.add(this),eo.set(this,[]),St.set(this,{}),rr.set(this,{}),ot.set(this,void 0),ln.set(this,void 0),An.set(this,void 0),on.set(this,void 0),br.set(this,void 0),Qe.set(this,void 0),ir.set(this,void 0),or.set(this,void 0),hs.set(this,void 0)}[(eo=new WeakMap,St=new WeakMap,rr=new WeakMap,ot=new WeakMap,ln=new WeakMap,An=new WeakMap,on=new WeakMap,br=new WeakMap,Qe=new WeakMap,ir=new WeakMap,or=new WeakMap,hs=new WeakMap,Re=new WeakSet,Symbol.asyncIterator)](){const t=[],n=[];let s=!1;return this.on("event",r=>{const i=n.shift();i?i.resolve(r):t.push(r)}),this.on("end",()=>{s=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),this.on("error",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const n=new lt;return n._run(()=>n._fromReadableStream(t)),n}async _fromReadableStream(t,n){var i;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),this._connected();const r=Et.fromReadableStream(t,this.controller);for await(const o of r)U(this,Re,"m",ns).call(this,o);if((i=r.controller.signal)!=null&&i.aborted)throw new nt;return this._addRun(U(this,Re,"m",ss).call(this))}toReadableStream(){return new Et(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,n,s,r,i){const o=new lt;return o._run(()=>o._runToolAssistantStream(t,n,s,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(t,n,s,r,i){var c;const o=i==null?void 0:i.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},l=await t.submitToolOutputs(n,s,a,{...i,signal:this.controller.signal});this._connected();for await(const u of l)U(this,Re,"m",ns).call(this,u);if((c=l.controller.signal)!=null&&c.aborted)throw new nt;return this._addRun(U(this,Re,"m",ss).call(this))}static createThreadAssistantStream(t,n,s){const r=new lt;return r._run(()=>r._threadAssistantStream(t,n,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),r}static createAssistantStream(t,n,s,r){const i=new lt;return i._run(()=>i._runAssistantStream(t,n,s,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return U(this,ir,"f")}currentRun(){return U(this,or,"f")}currentMessageSnapshot(){return U(this,ot,"f")}currentRunStepSnapshot(){return U(this,hs,"f")}async finalRunSteps(){return await this.done(),Object.values(U(this,St,"f"))}async finalMessages(){return await this.done(),Object.values(U(this,rr,"f"))}async finalRun(){if(await this.done(),!U(this,ln,"f"))throw Error("Final run was not received.");return U(this,ln,"f")}async _createThreadAssistantStream(t,n,s){var a;const r=s==null?void 0:s.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},o=await t.createAndRun(i,{...s,signal:this.controller.signal});this._connected();for await(const l of o)U(this,Re,"m",ns).call(this,l);if((a=o.controller.signal)!=null&&a.aborted)throw new nt;return this._addRun(U(this,Re,"m",ss).call(this))}async _createAssistantStream(t,n,s,r){var l;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const o={...s,stream:!0},a=await t.create(n,o,{...r,signal:this.controller.signal});this._connected();for await(const c of a)U(this,Re,"m",ns).call(this,c);if((l=a.controller.signal)!=null&&l.aborted)throw new nt;return this._addRun(U(this,Re,"m",ss).call(this))}static accumulateDelta(t,n){for(const[s,r]of Object.entries(n)){if(!t.hasOwnProperty(s)){t[s]=r;continue}let i=t[s];if(i==null){t[s]=r;continue}if(s==="index"||s==="type"){t[s]=r;continue}if(typeof i=="string"&&typeof r=="string")i+=r;else if(typeof i=="number"&&typeof r=="number")i+=r;else if(gi(i)&&gi(r))i=this.accumulateDelta(i,r);else if(Array.isArray(i)&&Array.isArray(r)){if(i.every(o=>typeof o=="string"||typeof o=="number")){i.push(...r);continue}for(const o of r){if(!gi(o))throw new Error(`Expected array delta entry to be an object but got: ${o}`);const a=o.index;if(a==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof a!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${a}`);const l=i[a];l==null?i.push(o):i[a]=this.accumulateDelta(l,o)}continue}else throw Error(`Unhandled record type: ${s}, deltaValue: ${r}, accValue: ${i}`);t[s]=i}return t}_addRun(t){return t}async _threadAssistantStream(t,n,s){return await this._createThreadAssistantStream(n,t,s)}async _runAssistantStream(t,n,s,r){return await this._createAssistantStream(n,t,s,r)}async _runToolAssistantStream(t,n,s,r,i){return await this._createToolAssistantStream(s,t,n,r,i)}}ns=function(t){if(!this.ended)switch(ze(this,ir,t,"f"),U(this,Re,"m",yl).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":U(this,Re,"m",Sl).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":U(this,Re,"m",gl).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":U(this,Re,"m",ml).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},ss=function(){if(this.ended)throw new V("stream has ended, this shouldn't happen");if(!U(this,ln,"f"))throw Error("Final run has not been received");return U(this,ln,"f")},ml=function(t){const[n,s]=U(this,Re,"m",wl).call(this,t,U(this,ot,"f"));ze(this,ot,n,"f"),U(this,rr,"f")[n.id]=n;for(const r of s){const i=n.content[r.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,n),t.data.delta.content)for(const r of t.data.delta.content){if(r.type=="text"&&r.text){let i=r.text,o=n.content[r.index];if(o&&o.type=="text")this._emit("textDelta",i,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(r.index!=U(this,An,"f")){if(U(this,on,"f"))switch(U(this,on,"f").type){case"text":this._emit("textDone",U(this,on,"f").text,U(this,ot,"f"));break;case"image_file":this._emit("imageFileDone",U(this,on,"f").image_file,U(this,ot,"f"));break}ze(this,An,r.index,"f")}ze(this,on,n.content[r.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(U(this,An,"f")!==void 0){const r=t.data.content[U(this,An,"f")];if(r)switch(r.type){case"image_file":this._emit("imageFileDone",r.image_file,U(this,ot,"f"));break;case"text":this._emit("textDone",r.text,U(this,ot,"f"));break}}U(this,ot,"f")&&this._emit("messageDone",t.data),ze(this,ot,void 0,"f")}},gl=function(t){const n=U(this,Re,"m",_l).call(this,t);switch(ze(this,hs,n,"f"),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const s=t.data.delta;if(s.step_details&&s.step_details.type=="tool_calls"&&s.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const i of s.step_details.tool_calls)i.index==U(this,br,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(U(this,Qe,"f")&&this._emit("toolCallDone",U(this,Qe,"f")),ze(this,br,i.index,"f"),ze(this,Qe,n.step_details.tool_calls[i.index],"f"),U(this,Qe,"f")&&this._emit("toolCallCreated",U(this,Qe,"f")));this._emit("runStepDelta",t.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ze(this,hs,void 0,"f"),t.data.step_details.type=="tool_calls"&&U(this,Qe,"f")&&(this._emit("toolCallDone",U(this,Qe,"f")),ze(this,Qe,void 0,"f")),this._emit("runStepDone",t.data,n);break}},yl=function(t){U(this,eo,"f").push(t),this._emit("event",t)},_l=function(t){switch(t.event){case"thread.run.step.created":return U(this,St,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let n=U(this,St,"f")[t.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let s=t.data;if(s.delta){const r=lt.accumulateDelta(n,s.delta);U(this,St,"f")[t.data.id]=r}return U(this,St,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":U(this,St,"f")[t.data.id]=t.data;break}if(U(this,St,"f")[t.data.id])return U(this,St,"f")[t.data.id];throw new Error("No snapshot available")},wl=function(t,n){let s=[];switch(t.event){case"thread.message.created":return[t.data,s];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=t.data;if(r.delta.content)for(const i of r.delta.content)if(i.index in n.content){let o=n.content[i.index];n.content[i.index]=U(this,Re,"m",bl).call(this,i,o)}else n.content[i.index]=i,s.push(i);return[n,s];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,s];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},bl=function(t,n){return lt.accumulateDelta(n,t)},Sl=function(t){switch(ze(this,or,t.data,"f"),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":ze(this,ln,t.data,"f"),U(this,Qe,"f")&&(this._emit("toolCallDone",U(this,Qe,"f")),ze(this,Qe,void 0,"f"));break}};class Io extends Q{create(t,n,s){return this._client.post(`/threads/${t}/messages`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(t,n,s){return this._client.get(`/threads/${t}/messages/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}update(t,n,s,r){return this._client.post(`/threads/${t}/messages/${n}`,{body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t,n={},s){return ve(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/messages`,Fo,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(t,n,s){return this._client.delete(`/threads/${t}/messages/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class Fo extends qe{}Io.MessagesPage=Fo;class Mo extends Q{retrieve(t,n,s,r={},i){return ve(r)?this.retrieve(t,n,s,{},r):this._client.get(`/threads/${t}/runs/${n}/steps/${s}`,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(t,n,s={},r){return ve(s)?this.list(t,n,{},s):this._client.getAPIList(`/threads/${t}/runs/${n}/steps`,No,{query:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class No extends qe{}Mo.RunStepsPage=No;class Fs extends Q{constructor(){super(...arguments),this.steps=new Mo(this._client)}create(t,n,s){const{include:r,...i}=n;return this._client.post(`/threads/${t}/runs`,{query:{include:r},body:i,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:n.stream??!1})}retrieve(t,n,s){return this._client.get(`/threads/${t}/runs/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}update(t,n,s,r){return this._client.post(`/threads/${t}/runs/${n}`,{body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t,n={},s){return ve(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/runs`,$o,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}cancel(t,n,s){return this._client.post(`/threads/${t}/runs/${n}/cancel`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(t,n,s){const r=await this.create(t,n,s);return await this.poll(t,r.id,s)}createAndStream(t,n,s){return lt.createAssistantStream(t,this._client.beta.threads.runs,n,s)}async poll(t,n,s){const r={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(t,n,{...s,headers:{...s==null?void 0:s.headers,...r}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let a=5e3;if(s!=null&&s.pollIntervalMs)a=s.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(a=c)}}await Os(a);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(t,n,s){return lt.createAssistantStream(t,this._client.beta.threads.runs,n,s)}submitToolOutputs(t,n,s,r){return this._client.post(`/threads/${t}/runs/${n}/submit_tool_outputs`,{body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:s.stream??!1})}async submitToolOutputsAndPoll(t,n,s,r){const i=await this.submitToolOutputs(t,n,s,r);return await this.poll(t,i.id,r)}submitToolOutputsStream(t,n,s,r){return lt.createToolAssistantStream(t,n,this._client.beta.threads.runs,s,r)}}class $o extends qe{}Fs.RunsPage=$o;Fs.Steps=Mo;Fs.RunStepsPage=No;class Vn extends Q{constructor(){super(...arguments),this.runs=new Fs(this._client),this.messages=new Io(this._client)}create(t={},n){return ve(t)?this.create({},t):this._client.post("/threads",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,s){return this._client.post(`/threads/${t}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(t,n){return this._client.delete(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(t,n){return this._client.post("/threads/runs",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:t.stream??!1})}async createAndRunPoll(t,n){const s=await this.createAndRun(t,n);return await this.runs.poll(s.thread_id,s.id,n)}createAndRunStream(t,n){return lt.createThreadAssistantStream(t,this._client.beta.threads,n)}}Vn.Runs=Fs;Vn.RunsPage=$o;Vn.Messages=Io;Vn.MessagesPage=Fo;class Wn extends Q{constructor(){super(...arguments),this.realtime=new Jr(this._client),this.chat=new Zi(this._client),this.assistants=new Co(this._client),this.threads=new Vn(this._client)}}Wn.Realtime=Jr;Wn.Assistants=Co;Wn.AssistantsPage=Po;Wn.Threads=Vn;class xf extends Q{create(t,n){return this._client.post("/completions",{body:t,...n,stream:t.stream??!1})}}class Ef extends Q{create(t,n){const s=!!t.encoding_format;let r=s?t.encoding_format:"base64";s&&zt("Request","User defined encoding_format:",t.encoding_format);const i=this._client.post("/embeddings",{body:{...t,encoding_format:r},...n});return s?i:(zt("response","Decoding base64 embeddings to float32 array"),i._thenUnwrap(o=>(o&&o.data&&o.data.forEach(a=>{const l=a.embedding;a.embedding=e_(l)}),o)))}}let Lo=class extends Q{create(t,n){return this._client.post("/files",Un({body:t,...n}))}retrieve(t,n){return this._client.get(`/files/${t}`,n)}list(t={},n){return ve(t)?this.list({},t):this._client.getAPIList("/files",Do,{query:t,...n})}del(t,n){return this._client.delete(`/files/${t}`,n)}content(t,n){return this._client.get(`/files/${t}/content`,{...n,headers:{Accept:"application/binary",...n==null?void 0:n.headers},__binaryResponse:!0})}retrieveContent(t,n){return this._client.get(`/files/${t}/content`,n)}async waitForProcessing(t,{pollInterval:n=5e3,maxWait:s=30*60*1e3}={}){const r=new Set(["processed","error","deleted"]),i=Date.now();let o=await this.retrieve(t);for(;!o.status||!r.has(o.status);)if(await Os(n),o=await this.retrieve(t),Date.now()-i>s)throw new Eo({message:`Giving up on waiting for file ${t} to finish processing after ${s} milliseconds.`});return o}};class Do extends qe{}Lo.FileObjectsPage=Do;class Bo extends Q{list(t,n={},s){return ve(n)?this.list(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/checkpoints`,Uo,{query:n,...s})}}class Uo extends qe{}Bo.FineTuningJobCheckpointsPage=Uo;class qn extends Q{constructor(){super(...arguments),this.checkpoints=new Bo(this._client)}create(t,n){return this._client.post("/fine_tuning/jobs",{body:t,...n})}retrieve(t,n){return this._client.get(`/fine_tuning/jobs/${t}`,n)}list(t={},n){return ve(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",jo,{query:t,...n})}cancel(t,n){return this._client.post(`/fine_tuning/jobs/${t}/cancel`,n)}listEvents(t,n={},s){return ve(n)?this.listEvents(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/events`,Ho,{query:n,...s})}}class jo extends qe{}class Ho extends qe{}qn.FineTuningJobsPage=jo;qn.FineTuningJobEventsPage=Ho;qn.Checkpoints=Bo;qn.FineTuningJobCheckpointsPage=Uo;class Ms extends Q{constructor(){super(...arguments),this.jobs=new qn(this._client)}}Ms.Jobs=qn;Ms.FineTuningJobsPage=jo;Ms.FineTuningJobEventsPage=Ho;class vf extends Q{createVariation(t,n){return this._client.post("/images/variations",Un({body:t,...n}))}edit(t,n){return this._client.post("/images/edits",Un({body:t,...n}))}generate(t,n){return this._client.post("/images/generations",{body:t,...n})}}class Vo extends Q{retrieve(t,n){return this._client.get(`/models/${t}`,n)}list(t){return this._client.getAPIList("/models",Wo,t)}del(t,n){return this._client.delete(`/models/${t}`,n)}}class Wo extends vo{}Vo.ModelsPage=Wo;class Rf extends Q{create(t,n){return this._client.post("/moderations",{body:t,...n})}}function h_(e,t){return!t||!m_(t)?{...e,output_parsed:null,output:e.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(s=>({...s,parsed:null}))}:n)}:Af(e,t)}function Af(e,t){const n=e.output.map(r=>{if(r.type==="function_call")return{...r,parsed_arguments:__(t,r)};if(r.type==="message"){const i=r.content.map(o=>o.type==="output_text"?{...o,parsed:p_(t,o.text)}:o);return{...r,content:i}}return r}),s=Object.assign({},e,{output:n});return Object.getOwnPropertyDescriptor(e,"output_text")||Cf(s),Object.defineProperty(s,"output_parsed",{enumerable:!0,get(){for(const r of s.output)if(r.type==="message"){for(const i of r.content)if(i.type==="output_text"&&i.parsed!==null)return i.parsed}return null}}),s}function p_(e,t){var n,s,r,i;return((s=(n=e.text)==null?void 0:n.format)==null?void 0:s.type)!=="json_schema"?null:"$parseRaw"in((r=e.text)==null?void 0:r.format)?((i=e.text)==null?void 0:i.format).$parseRaw(t):JSON.parse(t)}function m_(e){var t;return!!Oo((t=e.text)==null?void 0:t.format)}function g_(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function y_(e,t){return e.find(n=>n.type==="function"&&n.name===t)}function __(e,t){const n=y_(e.tools??[],t.name);return{...t,...t,parsed_arguments:g_(n)?n.$parseRaw(t.arguments):n!=null&&n.strict?JSON.parse(t.arguments):null}}function Cf(e){const t=[];for(const n of e.output)if(n.type==="message")for(const s of n.content)s.type==="output_text"&&t.push(s.text);e.output_text=t.join("")}class Pf extends Q{list(t,n={},s){return ve(n)?this.list(t,{},n):this._client.getAPIList(`/responses/${t}/input_items`,b_,{query:n,...s})}}var bn=function(e,t,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(e,n):r?r.value=n:t.set(e,n),n},jt=function(e,t,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:t.get(e)},Sn,Js,Ht,Ks,xl,El,vl,Rl;class qo extends To{constructor(t){super(),Sn.add(this),Js.set(this,void 0),Ht.set(this,void 0),Ks.set(this,void 0),bn(this,Js,t,"f")}static createResponse(t,n,s){const r=new qo(n);return r._run(()=>r._createResponse(t,n,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createResponse(t,n,s){var o;const r=s==null?void 0:s.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),jt(this,Sn,"m",xl).call(this);const i=await t.responses.create({...n,stream:!0},{...s,signal:this.controller.signal});this._connected();for await(const a of i)jt(this,Sn,"m",El).call(this,a);if((o=i.controller.signal)!=null&&o.aborted)throw new nt;return jt(this,Sn,"m",vl).call(this)}[(Js=new WeakMap,Ht=new WeakMap,Ks=new WeakMap,Sn=new WeakSet,xl=function(){this.ended||bn(this,Ht,void 0,"f")},El=function(n){if(this.ended)return;const s=jt(this,Sn,"m",Rl).call(this,n);switch(this._emit("event",n),n.type){case"response.output_text.delta":{const r=s.output[n.output_index];if(!r)throw new V(`missing output at index ${n.output_index}`);if(r.type==="message"){const i=r.content[n.content_index];if(!i)throw new V(`missing content at index ${n.content_index}`);if(i.type!=="output_text")throw new V(`expected content to be 'output_text', got ${i.type}`);this._emit("response.output_text.delta",{...n,snapshot:i.text})}break}case"response.function_call_arguments.delta":{const r=s.output[n.output_index];if(!r)throw new V(`missing output at index ${n.output_index}`);r.type==="function_call"&&this._emit("response.function_call_arguments.delta",{...n,snapshot:r.arguments});break}default:this._emit(n.type,n);break}},vl=function(){if(this.ended)throw new V("stream has ended, this shouldn't happen");const n=jt(this,Ht,"f");if(!n)throw new V("request ended without sending any events");bn(this,Ht,void 0,"f");const s=w_(n,jt(this,Js,"f"));return bn(this,Ks,s,"f"),s},Rl=function(n){let s=jt(this,Ht,"f");if(!s){if(n.type!=="response.created")throw new V(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return s=bn(this,Ht,n.response,"f"),s}switch(n.type){case"response.output_item.added":{s.output.push(n.item);break}case"response.content_part.added":{const r=s.output[n.output_index];if(!r)throw new V(`missing output at index ${n.output_index}`);r.type==="message"&&r.content.push(n.part);break}case"response.output_text.delta":{const r=s.output[n.output_index];if(!r)throw new V(`missing output at index ${n.output_index}`);if(r.type==="message"){const i=r.content[n.content_index];if(!i)throw new V(`missing content at index ${n.content_index}`);if(i.type!=="output_text")throw new V(`expected content to be 'output_text', got ${i.type}`);i.text+=n.delta}break}case"response.function_call_arguments.delta":{const r=s.output[n.output_index];if(!r)throw new V(`missing output at index ${n.output_index}`);r.type==="function_call"&&(r.arguments+=n.delta);break}case"response.completed":{bn(this,Ht,n.response,"f");break}}return s},Symbol.asyncIterator)](){const t=[],n=[];let s=!1;return this.on("event",r=>{const i=n.shift();i?i.resolve(r):t.push(r)}),this.on("end",()=>{s=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),this.on("error",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=jt(this,Ks,"f");if(!t)throw new V("stream ended without producing a ChatCompletion");return t}}function w_(e,t){return h_(e,t)}class Jo extends Q{constructor(){super(...arguments),this.inputItems=new Pf(this._client)}create(t,n){return this._client.post("/responses",{body:t,...n,stream:t.stream??!1})._thenUnwrap(s=>("object"in s&&s.object==="response"&&Cf(s),s))}retrieve(t,n={},s){return ve(n)?this.retrieve(t,{},n):this._client.get(`/responses/${t}`,{query:n,...s})}del(t,n){return this._client.delete(`/responses/${t}`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}parse(t,n){return this._client.responses.create(t,n)._thenUnwrap(s=>Af(s,t))}stream(t,n){return qo.createResponse(this._client,t,n)}}class b_ extends qe{}Jo.InputItems=Pf;class Tf extends Q{create(t,n,s){return this._client.post(`/uploads/${t}/parts`,Un({body:n,...s}))}}class Ko extends Q{constructor(){super(...arguments),this.parts=new Tf(this._client)}create(t,n){return this._client.post("/uploads",{body:t,...n})}cancel(t,n){return this._client.post(`/uploads/${t}/cancel`,n)}complete(t,n,s){return this._client.post(`/uploads/${t}/complete`,{body:n,...s})}}Ko.Parts=Tf;const S_=async e=>{const t=await Promise.allSettled(e),n=t.filter(r=>r.status==="rejected");if(n.length){for(const r of n)console.error(r.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const s=[];for(const r of t)r.status==="fulfilled"&&s.push(r.value);return s};class Kr extends Q{create(t,n,s){return this._client.post(`/vector_stores/${t}/files`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(t,n,s){return this._client.get(`/vector_stores/${t}/files/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}update(t,n,s,r){return this._client.post(`/vector_stores/${t}/files/${n}`,{body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t,n={},s){return ve(n)?this.list(t,{},n):this._client.getAPIList(`/vector_stores/${t}/files`,zr,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(t,n,s){return this._client.delete(`/vector_stores/${t}/files/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(t,n,s){const r=await this.create(t,n,s);return await this.poll(t,r.id,s)}async poll(t,n,s){const r={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const i=await this.retrieve(t,n,{...s,headers:r}).withResponse(),o=i.data;switch(o.status){case"in_progress":let a=5e3;if(s!=null&&s.pollIntervalMs)a=s.pollIntervalMs;else{const l=i.response.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(a=c)}}await Os(a);break;case"failed":case"completed":return o}}}async upload(t,n,s){const r=await this._client.files.create({file:n,purpose:"assistants"},s);return this.create(t,{file_id:r.id},s)}async uploadAndPoll(t,n,s){const r=await this.upload(t,n,s);return await this.poll(t,r.id,s)}content(t,n,s){return this._client.getAPIList(`/vector_stores/${t}/files/${n}/content`,zo,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class zr extends qe{}class zo extends vo{}Kr.VectorStoreFilesPage=zr;Kr.FileContentResponsesPage=zo;class Of extends Q{create(t,n,s){return this._client.post(`/vector_stores/${t}/file_batches`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(t,n,s){return this._client.get(`/vector_stores/${t}/file_batches/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}cancel(t,n,s){return this._client.post(`/vector_stores/${t}/file_batches/${n}/cancel`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(t,n,s){const r=await this.create(t,n);return await this.poll(t,r.id,s)}listFiles(t,n,s={},r){return ve(s)?this.listFiles(t,n,{},s):this._client.getAPIList(`/vector_stores/${t}/file_batches/${n}/files`,zr,{query:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async poll(t,n,s){const r={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(t,n,{...s,headers:r}).withResponse();switch(i.status){case"in_progress":let a=5e3;if(s!=null&&s.pollIntervalMs)a=s.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(a=c)}}await Os(a);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(t,{files:n,fileIds:s=[]},r){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(r==null?void 0:r.maxConcurrency)??5,o=Math.min(i,n.length),a=this._client,l=n.values(),c=[...s];async function u(h){for(let m of h){const y=await a.files.create({file:m,purpose:"assistants"},r);c.push(y.id)}}const f=Array(o).fill(l).map(u);return await S_(f),await this.createAndPoll(t,{file_ids:c})}}class Zt extends Q{constructor(){super(...arguments),this.files=new Kr(this._client),this.fileBatches=new Of(this._client)}create(t,n){return this._client.post("/vector_stores",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,s){return this._client.post(`/vector_stores/${t}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t={},n){return ve(t)?this.list({},t):this._client.getAPIList("/vector_stores",Xo,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}search(t,n,s){return this._client.getAPIList(`/vector_stores/${t}/search`,Go,{body:n,method:"post",...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class Xo extends qe{}class Go extends vo{}Zt.VectorStoresPage=Xo;Zt.VectorStoreSearchResponsesPage=Go;Zt.Files=Kr;Zt.VectorStoreFilesPage=zr;Zt.FileContentResponsesPage=zo;Zt.FileBatches=Of;var kf;class X extends Hy{constructor({baseURL:t=js("OPENAI_BASE_URL"),apiKey:n=js("OPENAI_API_KEY"),organization:s=js("OPENAI_ORG_ID")??null,project:r=js("OPENAI_PROJECT_ID")??null,...i}={}){if(n===void 0)throw new V("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:n,organization:s,project:r,...i,baseURL:t||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&Yy())throw new V(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:o.baseURL,timeout:o.timeout??6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new xf(this),this.chat=new qr(this),this.embeddings=new Ef(this),this.files=new Lo(this),this.images=new vf(this),this.audio=new ks(this),this.moderations=new Rf(this),this.models=new Vo(this),this.fineTuning=new Ms(this),this.vectorStores=new Zt(this),this.beta=new Wn(this),this.batches=new Ro(this),this.uploads=new Ko(this),this.responses=new Jo(this),this._options=o,this.apiKey=n,this.organization=s,this.project=r}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(t){return vy(t,{arrayFormat:"brackets"})}}kf=X;X.OpenAI=kf;X.DEFAULT_TIMEOUT=6e5;X.OpenAIError=V;X.APIError=Ae;X.APIConnectionError=Br;X.APIConnectionTimeoutError=Eo;X.APIUserAbortError=nt;X.NotFoundError=Iu;X.ConflictError=Fu;X.RateLimitError=Nu;X.BadRequestError=Tu;X.AuthenticationError=Ou;X.InternalServerError=$u;X.PermissionDeniedError=ku;X.UnprocessableEntityError=Mu;X.toFile=Hu;X.fileFromPath=Au;X.Completions=xf;X.Chat=qr;X.ChatCompletionsPage=Wr;X.Embeddings=Ef;X.Files=Lo;X.FileObjectsPage=Do;X.Images=vf;X.Audio=ks;X.Moderations=Rf;X.Models=Vo;X.ModelsPage=Wo;X.FineTuning=Ms;X.VectorStores=Zt;X.VectorStoresPage=Xo;X.VectorStoreSearchResponsesPage=Go;X.Beta=Wn;X.Batches=Ro;X.BatchesPage=Ao;X.Uploads=Ko;X.Responses=Jo;const x_={components:{Sidebar:_m,NowPlaying:$m,ValenceDisplay:Bm},data(){return{trackId:"",track:null,valence:.5,player:null,deviceId:null,isPlaying:!1,progressPercentage:0,currentTime:0,recentTracks:[],audioLoading:!1,audioError:null,gradientStart:"#B8E8FC",gradientEnd:"#FDF6EC",previousValence:.5,valenceInterval:null,backgroundAnimation:!1,interpolatedValence:.5,displayValence:.5,rotationAngle:0,collapsed:!1,bubbles:Array(20).fill().map(()=>({startX:Math.random(),startY:Math.random(),xMove:30+Math.random()*100,yMove:50+Math.random()*150,size:.8+Math.random()*1.2,scale:.8+Math.random()*.8,animationDuration:10+Math.random()*20})),darkMode:!1,nextTrackData:null}},computed:{backgroundStyle(){return this.track?{background:`linear-gradient(135deg, ${this.gradientStart}, ${this.gradientEnd}, ${this.gradientStart})`,backgroundSize:"400% 400%","--animation-duration":`${30-this.displayValence*25}s`,"--gradient-start":this.gradientStart,"--gradient-end":this.gradientEnd,transition:this.backgroundAnimation?"background 1.5s ease":"none","--valence-speed":(1+this.displayValence).toFixed(2)}:{}},currentTimeFormatted(){return this.formatTime(this.currentTime)},durationFormatted(){var e;return this.formatTime(((e=this.track)==null?void 0:e.duration_ms)/1e3||0)},rotationSpeed(){return 10+this.displayValence*30}},methods:{bubbleStyle(e){return{"--random-start-x":e.startX,"--random-start-y":e.startY,"--random-x-move":`${e.xMove}px`,"--random-y-move":`${e.yMove}px`,"--bubble-size":e.size,"--bubble-scale":e.scale,"--bubble-animation-duration":`${e.animationDuration/(1+this.displayValence)}s`}},async startListening(){this.audioLoading=!0,await this.fetchTrack(),this.backgroundAnimation=!0,this.audioLoading=!1,this.togglePlay()},async fetchTrack(){var e,t,n,s;try{this.audioError=null;const r=await oe.get("http://127.0.0.1:8000/spotify/rec");if(!((e=r.data)!=null&&e.recommendation))throw new Error("No track recommendation received");this.trackId=r.data.recommendation;const i=await oe.get("http://127.0.0.1:8000/spotify/track",{params:{track_id:this.trackId}});if(!((t=i.data)!=null&&t.id)||!((n=i.data)!=null&&n.artists))throw new Error("Invalid track data structure");this.track={...i.data,album:{...i.data.album,images:((s=i.data.album)==null?void 0:s.images)||[]},artists:i.data.artists||[]},this.valence=i.data.valence??.5,this.updateGradient(),this.addToRecentTracks(this.track),await this.setupAudio(),this.preloadNextTrack()}catch(r){console.error("Fetch error:",r),this.audioError=r.message||"Failed to load track"}},async preloadNextTrack(){var e,t,n,s;try{const r=await oe.get("http://127.0.0.1:8000/spotify/rec");if(!((e=r.data)!=null&&e.recommendation))throw new Error("No track recommendation received");const i=r.data.recommendation,o=await oe.get("http://127.0.0.1:8000/spotify/track",{params:{track_id:i}});if(!((t=o.data)!=null&&t.id)||!((n=o.data)!=null&&n.artists))throw new Error("Invalid track data structure");this.nextTrackData={...o.data,album:{...o.data.album,images:((s=o.data.album)==null?void 0:s.images)||[]},artists:o.data.artists||[]}}catch(r){console.error("Preload next track error:",r)}},async setupAudio(){try{this.player||await this.initializeSpotifyPlayer(),await this.player._options.getOAuthToken(async e=>{if(!(await fetch(`https://api.spotify.com/v1/me/player/play?device_id=${this.deviceId}`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({uris:[`spotify:track:${this.trackId}`]})})).ok)throw new Error("Playback start failed");this.isPlaying=!0,this.player.addListener("player_state_changed",n=>{n&&n.track_window.current_track&&n.paused&&n.position===0&&this.fetchTrack()})})}catch(e){console.error("Playback error:",e),this.audioError="Playback failed - check Premium status",this.isPlaying=!1}},async getOAuthToken(e){try{const t=await oe.get("http://127.0.0.1:8000/spotify/token");if(t.data.token)e(t.data.token);else throw new Error(t.data.error||"Invalid token")}catch(t){console.error("Token error:",t),this.audioError="Failed to get Spotify token"}},formatTime(e){const t=Math.floor(e/60),n=Math.floor(e%60);return`${t}:${n.toString().padStart(2,"0")}`},async fetchValence(){var n;try{const s=await oe.get("http://127.0.0.1:8000/spotify/valence");if(console.log("Valence response:",s.data),((n=s.data)==null?void 0:n.valence)!==void 0)this.previousValence=this.valence,this.valence=s.data.valence,this.updateGradient(!0);else throw new Error("Failed to fetch valence")}catch(s){console.error("Valence fetch error:",s)}const t=await new X().responses.create({model:"gpt-4o",input:"Write a one-sentence bedtime story about a unicorn."});console.log(t.output_text)},async fetchValencePeriodically(){this.valenceInterval=setInterval(async()=>{var e;try{const t=await oe.get("http://127.0.0.1:8000/spotify/valence");if(console.log("Periodic valence response:",t.data),((e=t.data)==null?void 0:e.valence)!==void 0)this.previousValence=this.valence,this.valence=t.data.valence,this.updateGradient(!0);else throw new Error("Failed to fetch valence")}catch(t){console.error("Periodic valence fetch error:",t)}},5e3)},updateGradient(){const e=this.darkMode?[{valence:0,color:["#2B2B2B","#3E3E3E"]},{valence:.5,color:["#4E4E8A","#6A6AB3"]},{valence:1,color:["#8A4E8A","#B36AB3"]}]:[{valence:0,color:["#B8E8FC","#D4F4FA"]},{valence:.5,color:["#D4C4F4","#F5C6E6"]},{valence:1,color:["#FFB5B5","#FF8A8A"]}];for(let t=0;t<e.length-1;t++){const n=e[t],s=e[t+1];if(this.displayValence>=n.valence&&this.displayValence<s.valence){const r=(this.displayValence-n.valence)/(s.valence-n.valence);this.gradientStart=this.interpolateColor(n.color[0],s.color[0],r),this.gradientEnd=this.interpolateColor(n.color[1],s.color[1],r);break}}},interpolateColor(e,t,n){const s=l=>{const c=parseInt(l.slice(1),16);return[c>>16&255,c>>8&255,c&255]},r=(l,c,u)=>`#${(16777216+(l<<16)+(c<<8)+u).toString(16).slice(1)}`,i=s(e),o=s(t),a=i.map((l,c)=>Math.round(l+n*(o[c]-l)));return r(...a)},addToRecentTracks(e){var t;e!=null&&e.id&&(e!=null&&e.name)&&(this.recentTracks.some(s=>s.id===e.id)||(this.recentTracks.unshift({id:e.id,name:e.name,artists:e.artists||[],album:{images:((t=e.album)==null?void 0:t.images)||[]}}),this.recentTracks.length>5&&this.recentTracks.pop()))},async playRecentTrack(e){if(!e.loading)try{e.loading=!0,this.trackId=e.id,await this.fetchTrack()}finally{e.loading=!1}},async initializeSpotifyPlayer(){if(this.player)return;const e=document.createElement("script");return e.src="https://sdk.scdn.co/spotify-player.js",e.async=!0,document.body.appendChild(e),new Promise(t=>{window.onSpotifyWebPlaybackSDKReady=()=>{this.player=new window.Spotify.Player({name:"SoundScape Player",getOAuthToken:n=>this.getOAuthToken(n),volume:.5}),this.player.addListener("initialization_error",({message:n})=>{this.audioError=`Player error: ${n}`}),this.player.addListener("authentication_error",({message:n})=>{this.audioError="Auth failed - please refresh"}),this.player.addListener("account_error",({message:n})=>{this.audioError="Premium account required"}),this.player.connect().then(n=>{n&&(console.log("Spotify player connected"),t())}),this.player.addListener("ready",({device_id:n})=>{this.deviceId=n}),this.player.addListener("player_state_changed",n=>{n&&(this.isPlaying=!n.paused,this.currentTime=n.position/1e3,this.progressPercentage=n.position/n.duration*100)})}})},async togglePlay(){if(!(!this.track||this.audioLoading))try{this.isPlaying?await this.player.pause():await this.player.resume(),this.isPlaying=!this.isPlaying}catch(e){console.error("Playback toggle error:",e),this.audioError="Playback control failed"}},prevTrack(){this.player.previousTrack()},async nextTrack(){this.nextTrackData?(this.track=this.nextTrackData,this.trackId=this.track.id,this.valence=this.track.valence??.5,this.updateGradient(),this.addToRecentTracks(this.track),await this.setupAudio(),this.preloadNextTrack()):await this.fetchTrack()},seekAudio(e){if(this.player&&this.track){const t=e.currentTarget.getBoundingClientRect(),s=(e.clientX-t.left)/t.width*(this.track.duration_ms/1e3);this.player.seek(s*1e3),this.currentTime=s}},updateRotation(){if(this.isPlaying){const e=this.rotationSpeed/120;this.rotationAngle=(this.rotationAngle+e)%360}setTimeout(this.updateRotation,1e3/120)},toggleSidebar(){this.collapsed=!this.collapsed},toggleDarkMode(){this.darkMode=!this.darkMode},updateProgress(){this.isPlaying&&this.track&&(this.currentTime+=.5,this.currentTime>this.track.duration_ms/1e3&&(this.currentTime=this.track.duration_ms/1e3),this.progressPercentage=this.currentTime/(this.track.duration_ms/1e3)*100),setTimeout(this.updateProgress,500)},logout(){console.log("User logged out")}},mounted(){this.fetchValencePeriodically(),this.initializeSpotifyPlayer();const e=()=>{const t=this.valence-this.displayValence;this.displayValence+=t*.01,this.updateGradient(),setTimeout(e,100)};e(),this.updateRotation(),this.updateProgress()},beforeUnmount(){this.valenceInterval&&clearInterval(this.valenceInterval),this.player&&this.player.disconnect()}},E_={key:1,class:"start-listening"},v_={key:2,class:"empty-state"};function R_(e,t,n,s,r,i){const o=as("Sidebar"),a=as("NowPlaying"),l=as("ValenceDisplay");return fe(),ye("div",{class:Ve(["spotify-desktop",{collapsed:r.collapsed,darkMode:r.darkMode}]),style:Xt(i.backgroundStyle)},[(fe(!0),ye(He,null,cc(r.bubbles,(c,u)=>(fe(),ye("div",{key:u,class:"bubble",style:Xt(i.bubbleStyle(c))},null,4))),128)),Ee(o,{recentTracks:r.recentTracks,collapsed:r.collapsed,darkMode:r.darkMode,onPlayRecentTrack:i.playRecentTrack},null,8,["recentTracks","collapsed","darkMode","onPlayRecentTrack"]),J("button",{class:"toggle-dark-mode",onClick:t[0]||(t[0]=(...c)=>i.toggleDarkMode&&i.toggleDarkMode(...c))},[J("i",{class:Ve(r.darkMode?"fas fa-sun":"fas fa-moon")},null,2)]),J("button",{class:"toggle-sidebar",onClick:t[1]||(t[1]=(...c)=>i.toggleSidebar&&i.toggleSidebar(...c))},[J("i",{class:Ve(r.collapsed?"fas fa-chevron-right":"fas fa-chevron-left")},null,2)]),J("button",{class:"logout-icon",onClick:t[2]||(t[2]=(...c)=>i.logout&&i.logout(...c))},t[5]||(t[5]=[J("i",{class:"fas fa-sign-out-alt"},null,-1)])),J("div",{class:Ve(["main-content",{centered:r.collapsed}])},[r.track?(fe(),dr(a,{key:0,track:r.track,isPlaying:r.isPlaying,rotationAngle:r.rotationAngle,gradientStart:r.gradientStart,gradientEnd:r.gradientEnd,audioLoading:r.audioLoading,audioError:r.audioError,progressPercentage:r.progressPercentage,currentTimeFormatted:i.currentTimeFormatted,durationFormatted:i.durationFormatted,darkMode:r.darkMode,onTogglePlay:i.togglePlay,onPrevTrack:i.prevTrack,onNextTrack:i.fetchTrack,onSeekAudio:i.seekAudio},null,8,["track","isPlaying","rotationAngle","gradientStart","gradientEnd","audioLoading","audioError","progressPercentage","currentTimeFormatted","durationFormatted","darkMode","onTogglePlay","onPrevTrack","onNextTrack","onSeekAudio"])):!r.track&&!r.audioLoading?(fe(),ye("div",E_,[J("button",{class:"start-button",onClick:t[3]||(t[3]=(...c)=>i.startListening&&i.startListening(...c))},"Start Listening"),J("button",{class:"logout-button",onClick:t[4]||(t[4]=(...c)=>i.logout&&i.logout(...c))},"Log Out")])):r.audioLoading?(fe(),ye("div",v_,t[6]||(t[6]=[J("div",{class:"empty-content"},[J("i",{class:"fas fa-spinner fa-spin empty-icon"}),J("h2",null,"Loading...")],-1)]))):ws("",!0)],2),Ee(l,{valence:r.valence,darkMode:r.darkMode},null,8,["valence","darkMode"])],6)}const A_=pn(x_,[["render",R_]]),C_={name:"SpotifyLogin",data(){return{isAuthenticated:!1}},methods:{async login(){try{const e=await oe.get("http://127.0.0.1:8000/spotify/authorize");e.data.authUrl&&(window.location.href=e.data.authUrl)}catch(e){console.error("Login failed:",e)}},async checkAuth(){try{const e=await oe.get("http://127.0.0.1:8000/spotify/check-auth");this.isAuthenticated=e.data.authenticated}catch{this.isAuthenticated=!1}}},mounted(){this.checkAuth()}},P_={class:"spotify-login"},T_={key:0,class:"login-container"},O_={key:1};function k_(e,t,n,s,r,i){return fe(),ye("div",P_,[r.isAuthenticated?(fe(),ye("div",O_,[Ud(e.$slots,"default",{},void 0)])):(fe(),ye("div",T_,[t[2]||(t[2]=J("h2",null,"Connect to Spotify",-1)),t[3]||(t[3]=J("p",null,"Please login to Spotify to use this player",-1)),J("button",{onClick:t[0]||(t[0]=(...o)=>i.login&&i.login(...o)),class:"spotify-button"},t[1]||(t[1]=[J("i",{class:"fab fa-spotify"},null,-1),hr(" Login with Spotify ")]))]))])}const I_=pn(C_,[["render",k_],["__scopeId","data-v-056e046f"]]),F_=[{path:"/login",component:I_},{path:"/",component:A_,beforeEnter:(e,t,n)=>{localStorage.getItem("spotify_toekn_2")?n():n("/login")}}],M_=im({history:Mp(),routes:F_});Qh(sp).use(M_).mount("#app");
